import{g as U,x as E,e as F,o as r,w as n,f as t,i as l,u as d,S as A,j as u,l as a,y as f,t as o,F as S,m as $,n as D,p as L,v as I,A as H}from"./vendor.js";import{_ as q}from"./AdminLayout.js";import{_ as M}from"./Modal.js";import{_ as G}from"./InputLabel.js";import{_ as J}from"./InputError.js";import{P as K}from"./PrimaryButton.js";import{S as V}from"./SecondaryButton.js";import{D as Q}from"./DangerButton.js";import{r as v}from"./app.js";import"./NotificationDropdown.js";import"./_plugin-vue_export-helper.js";/* empty css    */const W={class:"py-12"},X={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},Y={class:"mb-6"},Z={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},_={class:"p-6 bg-white border-b border-gray-200"},tt={class:"flex justify-between items-center mb-6"},et={class:"flex space-x-3"},st={key:0,class:"flex space-x-3"},ot={key:1,class:"px-4 py-2 bg-green-100 text-green-800 rounded-md"},it={key:2,class:"px-4 py-2 bg-red-100 text-red-800 rounded-md"},nt={class:"bg-gray-50 p-6 rounded-lg mb-6"},rt={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},dt={class:"space-y-4"},lt={class:"mt-1 text-sm text-gray-900"},at={class:"mt-1 text-sm text-gray-900"},mt={class:"mt-1 text-sm text-gray-900"},ut={class:"mt-1 text-sm text-gray-900"},xt={class:"mt-1 text-sm text-gray-900"},gt={class:"space-y-4"},vt={class:"mt-1 flex flex-wrap gap-2"},ft={key:0,class:"text-sm text-gray-500"},ct={class:"mt-1 flex flex-wrap gap-2"},yt={key:0,class:"text-sm text-gray-500"},pt={class:"bg-gray-50 p-6 rounded-lg mb-6"},bt={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},wt={class:"space-y-4"},kt={class:"mt-1 text-sm text-gray-900"},jt={class:"mt-1 text-sm text-gray-900"},Ct={class:"mt-1 text-sm text-gray-900"},Nt={class:"mt-1 text-sm text-gray-900"},ht={class:"mt-1 text-sm text-gray-900"},Rt={class:"mt-1 text-sm text-gray-900"},Bt={class:"mt-1 text-sm text-gray-900"},Pt={class:"space-y-4"},Ut={class:"mt-1 text-sm text-gray-900"},At={class:"mt-1 text-sm text-gray-900"},St={class:"mt-1 text-sm text-gray-900"},$t={class:"mt-1 text-sm text-gray-900"},Dt={class:"mt-1 text-sm text-gray-900"},Mt={key:0,class:"bg-red-50 p-6 rounded-lg mb-6"},Vt={class:"text-red-700"},Tt={class:"mb-6"},Wt={__name:"Show",props:{user:Object,settings:Object},setup(s){const c=s,x=U(!1),g=U(!1),m=E({rejection_reason:""}),T=y=>H(new Date(y),"PPP"),z=()=>{m.post(v("admin.users.approve",c.user.id),{onSuccess:()=>{x.value=!1}})},O=()=>{m.post(v("admin.users.reject",c.user.id),{onSuccess:()=>{g.value=!1}})};return(y,e)=>(r(),F(q,{title:"User Details"},{default:n(()=>{var p,b,w,k,j,C,N,h,R,B,P;return[t("div",W,[t("div",X,[t("div",Y,[l(d(A),{href:d(v)("admin.users.index"),class:"text-indigo-600 hover:text-indigo-900 flex items-center"},{default:n(()=>e[7]||(e[7]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})],-1),u(" Back to Users ")])),_:1},8,["href"])]),t("div",Z,[t("div",_,[t("div",tt,[e[9]||(e[9]=t("h1",{class:"text-2xl font-semibold text-gray-800"},"User Details",-1)),t("div",et,[l(d(A),{href:d(v)("admin.users.activities",s.user.id),class:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"},{default:n(()=>e[8]||(e[8]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})],-1),u(" View Activities ")])),_:1},8,["href"]),s.user.approval_status==="pending"?(r(),a("div",st,[t("button",{onClick:e[0]||(e[0]=i=>x.value=!0),class:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500"}," Approve "),t("button",{onClick:e[1]||(e[1]=i=>g.value=!0),class:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500"}," Reject ")])):s.user.approval_status==="approved"?(r(),a("div",ot," Approved ")):(r(),a("div",it," Rejected "))])]),t("div",nt,[t("div",rt,[t("div",null,[e[15]||(e[15]=t("h3",{class:"text-lg font-medium text-gray-900 mb-4"},"User Information",-1)),t("div",dt,[t("div",null,[e[10]||(e[10]=t("div",{class:"text-sm font-medium text-gray-500"},"Name",-1)),t("div",lt,o(s.user.name),1)]),t("div",null,[e[11]||(e[11]=t("div",{class:"text-sm font-medium text-gray-500"},"Email",-1)),t("div",at,o(s.user.email),1)]),t("div",null,[e[12]||(e[12]=t("div",{class:"text-sm font-medium text-gray-500"},"Phone",-1)),t("div",mt,o(s.user.phone||"Not provided"),1)]),t("div",null,[e[13]||(e[13]=t("div",{class:"text-sm font-medium text-gray-500"},"Registration Date",-1)),t("div",ut,o(T(s.user.created_at)),1)]),t("div",null,[e[14]||(e[14]=t("div",{class:"text-sm font-medium text-gray-500"},"Referral Code",-1)),t("div",xt,o(s.user.referral_code||"None"),1)])])]),t("div",null,[e[18]||(e[18]=t("h3",{class:"text-lg font-medium text-gray-900 mb-4"},"Roles & Permissions",-1)),t("div",gt,[t("div",null,[e[16]||(e[16]=t("div",{class:"text-sm font-medium text-gray-500"},"Roles",-1)),t("div",vt,[(r(!0),a(S,null,$(s.user.roles,i=>(r(),a("span",{key:i,class:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800"},o(i),1))),128)),s.user.roles.length===0?(r(),a("span",ft,"No roles assigned")):f("",!0)])]),t("div",null,[e[17]||(e[17]=t("div",{class:"text-sm font-medium text-gray-500"},"Permissions",-1)),t("div",ct,[(r(!0),a(S,null,$(s.user.permissions,i=>(r(),a("span",{key:i,class:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-purple-100 text-purple-800"},o(i),1))),128)),s.user.permissions.length===0?(r(),a("span",yt,"No direct permissions")):f("",!0)])])])])])]),t("div",pt,[e[31]||(e[31]=t("h3",{class:"text-lg font-medium text-gray-900 mb-4"},"Organization Information",-1)),t("div",bt,[t("div",wt,[t("div",null,[e[19]||(e[19]=t("div",{class:"text-sm font-medium text-gray-500"},"Organization Name",-1)),t("div",kt,o(((p=s.settings)==null?void 0:p.organization_name)||"Not provided"),1)]),t("div",null,[e[20]||(e[20]=t("div",{class:"text-sm font-medium text-gray-500"},"Contact Title",-1)),t("div",jt,o(((b=s.settings)==null?void 0:b.contact_title)||"Not provided"),1)]),t("div",null,[e[21]||(e[21]=t("div",{class:"text-sm font-medium text-gray-500"},"Contact First Name",-1)),t("div",Ct,o(((w=s.settings)==null?void 0:w.contact_first_name)||"Not provided"),1)]),t("div",null,[e[22]||(e[22]=t("div",{class:"text-sm font-medium text-gray-500"},"Contact Last Name",-1)),t("div",Nt,o(((k=s.settings)==null?void 0:k.contact_last_name)||"Not provided"),1)]),t("div",null,[e[23]||(e[23]=t("div",{class:"text-sm font-medium text-gray-500"},"Address",-1)),t("div",ht,o(((j=s.settings)==null?void 0:j.address)||"Not provided"),1)]),t("div",null,[e[24]||(e[24]=t("div",{class:"text-sm font-medium text-gray-500"},"Address Suffix",-1)),t("div",Rt,o(((C=s.settings)==null?void 0:C.address_suffix)||"Not provided"),1)]),t("div",null,[e[25]||(e[25]=t("div",{class:"text-sm font-medium text-gray-500"},"Postal Code",-1)),t("div",Bt,o(((N=s.settings)==null?void 0:N.postal_code)||"Not provided"),1)])]),t("div",Pt,[t("div",null,[e[26]||(e[26]=t("div",{class:"text-sm font-medium text-gray-500"},"Location",-1)),t("div",Ut,o(((h=s.settings)==null?void 0:h.location)||"Not provided"),1)]),t("div",null,[e[27]||(e[27]=t("div",{class:"text-sm font-medium text-gray-500"},"Country",-1)),t("div",At,o(((R=s.settings)==null?void 0:R.country)||"Not provided"),1)]),t("div",null,[e[28]||(e[28]=t("div",{class:"text-sm font-medium text-gray-500"},"Email",-1)),t("div",St,o(((B=s.settings)==null?void 0:B.email)||s.user.email),1)]),t("div",null,[e[29]||(e[29]=t("div",{class:"text-sm font-medium text-gray-500"},"Phone",-1)),t("div",$t,o(((P=s.settings)==null?void 0:P.phone)||s.user.phone||"Not provided"),1)]),t("div",null,[e[30]||(e[30]=t("div",{class:"text-sm font-medium text-gray-500"},"Created By",-1)),t("div",Dt,o(s.user.created_by?s.user.created_by:"Self-registered"),1)])])])]),s.user.approval_status==="rejected"?(r(),a("div",Mt,[e[32]||(e[32]=t("h3",{class:"text-lg font-medium text-red-800 mb-2"},"Rejection Reason",-1)),t("p",Vt,o(s.user.rejection_reason),1)])):f("",!0)])])])]),l(M,{show:x.value,onClose:e[3]||(e[3]=i=>x.value=!1)},{title:n(()=>e[33]||(e[33]=[u("Approve User")])),content:n(()=>e[34]||(e[34]=[t("p",{class:"mb-6 text-gray-600"},"Are you sure you want to approve this user? They will receive an email notification and gain access to the system.",-1)])),footer:n(()=>[l(V,{onClick:e[2]||(e[2]=i=>x.value=!1),class:"mr-3"},{default:n(()=>e[35]||(e[35]=[u(" Cancel ")])),_:1}),l(K,{onClick:z,class:D({"opacity-25":d(m).processing}),disabled:d(m).processing},{default:n(()=>e[36]||(e[36]=[u(" Approve User ")])),_:1},8,["class","disabled"])]),_:1},8,["show"]),l(M,{show:g.value,onClose:e[6]||(e[6]=i=>g.value=!1)},{title:n(()=>e[37]||(e[37]=[u("Reject User")])),content:n(()=>[e[38]||(e[38]=t("p",{class:"mb-4 text-gray-600"},"Please provide a reason for rejecting this user. This will be included in the email notification sent to them.",-1)),t("div",Tt,[l(G,{for:"rejection_reason",value:"Rejection Reason"}),L(t("textarea",{id:"rejection_reason","onUpdate:modelValue":e[4]||(e[4]=i=>d(m).rejection_reason=i),class:"mt-1 block w-full border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm",rows:"4"},null,512),[[I,d(m).rejection_reason]]),l(J,{message:d(m).errors.rejection_reason,class:"mt-2"},null,8,["message"])])]),footer:n(()=>[l(V,{onClick:e[5]||(e[5]=i=>g.value=!1),class:"mr-3"},{default:n(()=>e[39]||(e[39]=[u(" Cancel ")])),_:1}),l(Q,{onClick:O,class:D({"opacity-25":d(m).processing}),disabled:d(m).processing},{default:n(()=>e[40]||(e[40]=[u(" Reject User ")])),_:1},8,["class","disabled"])]),_:1},8,["show"])]}),_:1}))}};export{Wt as default};
