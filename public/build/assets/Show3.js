import{e as P,o as d,w as n,f as t,y as u,g as a,i as m,k as l,t as r,F as A,l as R,n as S,q as D,v as L,m as w,x as U,A as B,S as I}from"./vendor.js";import{A as V}from"./AdminLayout.js";import{M as O}from"./Modal.js";import{I as z}from"./InputLabel.js";import{I as E}from"./InputError.js";import{P as T}from"./PrimaryButton.js";import{S as F}from"./SecondaryButton.js";import{D as q}from"./DangerButton.js";import{r as b}from"./app.js";import{_ as H}from"./_plugin-vue_export-helper.js";import"./NotificationDropdown.js";/* empty css    */const G={__name:"Show",props:{user:Object,settings:Object},setup(_,{expose:e}){e();const o=_,s=w(!1),f=w(!1),x=U({rejection_reason:""}),g={props:o,showApproveModal:s,showRejectModal:f,form:x,formatDate:v=>B(new Date(v),"PPP"),approveUser:()=>{x.post(b("admin.users.approve",o.user.id),{onSuccess:()=>{s.value=!1}})},rejectUser:()=>{x.post(b("admin.users.reject",o.user.id),{onSuccess:()=>{f.value=!1}})},ref:w,get Link(){return I},get useForm(){return U},AdminLayout:V,Modal:O,InputLabel:z,InputError:E,PrimaryButton:T,SecondaryButton:F,DangerButton:q,get route(){return b},get format(){return B}};return Object.defineProperty(g,"__isScriptSetup",{enumerable:!1,value:!0}),g}},J={class:"py-12"},K={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},Q={class:"mb-6"},W={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},X={class:"p-6 bg-white border-b border-gray-200"},Y={class:"flex justify-between items-center mb-6"},Z={class:"flex space-x-3"},$={key:0,class:"flex space-x-3"},tt={key:1,class:"px-4 py-2 bg-green-100 text-green-800 rounded-md"},et={key:2,class:"px-4 py-2 bg-red-100 text-red-800 rounded-md"},st={class:"bg-gray-50 p-6 rounded-lg mb-6"},ot={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},rt={class:"space-y-4"},it={class:"mt-1 text-sm text-gray-900"},nt={class:"mt-1 text-sm text-gray-900"},dt={class:"mt-1 text-sm text-gray-900"},at={class:"mt-1 text-sm text-gray-900"},lt={class:"mt-1 text-sm text-gray-900"},mt={class:"space-y-4"},ut={class:"mt-1 flex flex-wrap gap-2"},gt={key:0,class:"text-sm text-gray-500"},xt={class:"mt-1 flex flex-wrap gap-2"},vt={key:0,class:"text-sm text-gray-500"},ft={class:"bg-gray-50 p-6 rounded-lg mb-6"},ct={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},yt={class:"space-y-4"},pt={class:"mt-1 text-sm text-gray-900"},wt={class:"mt-1 text-sm text-gray-900"},bt={class:"mt-1 text-sm text-gray-900"},_t={class:"mt-1 text-sm text-gray-900"},ht={class:"mt-1 text-sm text-gray-900"},jt={class:"mt-1 text-sm text-gray-900"},kt={class:"mt-1 text-sm text-gray-900"},Ct={class:"space-y-4"},Nt={class:"mt-1 text-sm text-gray-900"},Mt={class:"mt-1 text-sm text-gray-900"},At={class:"mt-1 text-sm text-gray-900"},Rt={class:"mt-1 text-sm text-gray-900"},St={class:"mt-1 text-sm text-gray-900"},Ut={key:0,class:"bg-red-50 p-6 rounded-lg mb-6"},Bt={class:"text-red-700"},Pt={class:"mb-6"};function Dt(_,e,o,s,f,x){return d(),P(s.AdminLayout,{title:"User Details"},{default:n(()=>{var c,y,p,g,v,h,j,k,C,N,M;return[t("div",J,[t("div",K,[t("div",Q,[a(s.Link,{href:s.route("admin.users.index"),class:"text-indigo-600 hover:text-indigo-900 flex items-center"},{default:n(()=>e[7]||(e[7]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})],-1),m(" Back to Users ")])),_:1},8,["href"])]),t("div",W,[t("div",X,[t("div",Y,[e[9]||(e[9]=t("h1",{class:"text-2xl font-semibold text-gray-800"},"User Details",-1)),t("div",Z,[a(s.Link,{href:s.route("admin.users.activities",o.user.id),class:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"},{default:n(()=>e[8]||(e[8]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})],-1),m(" View Activities ")])),_:1},8,["href"]),o.user.approval_status==="pending"?(d(),l("div",$,[t("button",{onClick:e[0]||(e[0]=i=>s.showApproveModal=!0),class:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500"}," Approve "),t("button",{onClick:e[1]||(e[1]=i=>s.showRejectModal=!0),class:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500"}," Reject ")])):o.user.approval_status==="approved"?(d(),l("div",tt," Approved ")):(d(),l("div",et," Rejected "))])]),t("div",st,[t("div",ot,[t("div",null,[e[15]||(e[15]=t("h3",{class:"text-lg font-medium text-gray-900 mb-4"},"User Information",-1)),t("div",rt,[t("div",null,[e[10]||(e[10]=t("div",{class:"text-sm font-medium text-gray-500"},"Name",-1)),t("div",it,r(o.user.name),1)]),t("div",null,[e[11]||(e[11]=t("div",{class:"text-sm font-medium text-gray-500"},"Email",-1)),t("div",nt,r(o.user.email),1)]),t("div",null,[e[12]||(e[12]=t("div",{class:"text-sm font-medium text-gray-500"},"Phone",-1)),t("div",dt,r(o.user.phone||"Not provided"),1)]),t("div",null,[e[13]||(e[13]=t("div",{class:"text-sm font-medium text-gray-500"},"Registration Date",-1)),t("div",at,r(s.formatDate(o.user.created_at)),1)]),t("div",null,[e[14]||(e[14]=t("div",{class:"text-sm font-medium text-gray-500"},"Referral Code",-1)),t("div",lt,r(o.user.referral_code||"None"),1)])])]),t("div",null,[e[18]||(e[18]=t("h3",{class:"text-lg font-medium text-gray-900 mb-4"},"Roles & Permissions",-1)),t("div",mt,[t("div",null,[e[16]||(e[16]=t("div",{class:"text-sm font-medium text-gray-500"},"Roles",-1)),t("div",ut,[(d(!0),l(A,null,R(o.user.roles,i=>(d(),l("span",{key:i,class:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800"},r(i),1))),128)),o.user.roles.length===0?(d(),l("span",gt,"No roles assigned")):u("v-if",!0)])]),t("div",null,[e[17]||(e[17]=t("div",{class:"text-sm font-medium text-gray-500"},"Permissions",-1)),t("div",xt,[(d(!0),l(A,null,R(o.user.permissions,i=>(d(),l("span",{key:i,class:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-purple-100 text-purple-800"},r(i),1))),128)),o.user.permissions.length===0?(d(),l("span",vt,"No direct permissions")):u("v-if",!0)])])])])])]),u(" Organization Information "),t("div",ft,[e[31]||(e[31]=t("h3",{class:"text-lg font-medium text-gray-900 mb-4"},"Organization Information",-1)),t("div",ct,[t("div",yt,[t("div",null,[e[19]||(e[19]=t("div",{class:"text-sm font-medium text-gray-500"},"Organization Name",-1)),t("div",pt,r(((c=o.settings)==null?void 0:c.organization_name)||"Not provided"),1)]),t("div",null,[e[20]||(e[20]=t("div",{class:"text-sm font-medium text-gray-500"},"Contact Title",-1)),t("div",wt,r(((y=o.settings)==null?void 0:y.contact_title)||"Not provided"),1)]),t("div",null,[e[21]||(e[21]=t("div",{class:"text-sm font-medium text-gray-500"},"Contact First Name",-1)),t("div",bt,r(((p=o.settings)==null?void 0:p.contact_first_name)||"Not provided"),1)]),t("div",null,[e[22]||(e[22]=t("div",{class:"text-sm font-medium text-gray-500"},"Contact Last Name",-1)),t("div",_t,r(((g=o.settings)==null?void 0:g.contact_last_name)||"Not provided"),1)]),t("div",null,[e[23]||(e[23]=t("div",{class:"text-sm font-medium text-gray-500"},"Address",-1)),t("div",ht,r(((v=o.settings)==null?void 0:v.address)||"Not provided"),1)]),t("div",null,[e[24]||(e[24]=t("div",{class:"text-sm font-medium text-gray-500"},"Address Suffix",-1)),t("div",jt,r(((h=o.settings)==null?void 0:h.address_suffix)||"Not provided"),1)]),t("div",null,[e[25]||(e[25]=t("div",{class:"text-sm font-medium text-gray-500"},"Postal Code",-1)),t("div",kt,r(((j=o.settings)==null?void 0:j.postal_code)||"Not provided"),1)])]),t("div",Ct,[t("div",null,[e[26]||(e[26]=t("div",{class:"text-sm font-medium text-gray-500"},"Location",-1)),t("div",Nt,r(((k=o.settings)==null?void 0:k.location)||"Not provided"),1)]),t("div",null,[e[27]||(e[27]=t("div",{class:"text-sm font-medium text-gray-500"},"Country",-1)),t("div",Mt,r(((C=o.settings)==null?void 0:C.country)||"Not provided"),1)]),t("div",null,[e[28]||(e[28]=t("div",{class:"text-sm font-medium text-gray-500"},"Email",-1)),t("div",At,r(((N=o.settings)==null?void 0:N.email)||o.user.email),1)]),t("div",null,[e[29]||(e[29]=t("div",{class:"text-sm font-medium text-gray-500"},"Phone",-1)),t("div",Rt,r(((M=o.settings)==null?void 0:M.phone)||o.user.phone||"Not provided"),1)]),t("div",null,[e[30]||(e[30]=t("div",{class:"text-sm font-medium text-gray-500"},"Created By",-1)),t("div",St,r(o.user.created_by?o.user.created_by:"Self-registered"),1)])])])]),o.user.approval_status==="rejected"?(d(),l("div",Ut,[e[32]||(e[32]=t("h3",{class:"text-lg font-medium text-red-800 mb-2"},"Rejection Reason",-1)),t("p",Bt,r(o.user.rejection_reason),1)])):u("v-if",!0)])])])]),u(" Approve Modal "),a(s.Modal,{show:s.showApproveModal,onClose:e[3]||(e[3]=i=>s.showApproveModal=!1)},{title:n(()=>e[33]||(e[33]=[m("Approve User")])),content:n(()=>e[34]||(e[34]=[t("p",{class:"mb-6 text-gray-600"},"Are you sure you want to approve this user? They will receive an email notification and gain access to the system.",-1)])),footer:n(()=>[a(s.SecondaryButton,{onClick:e[2]||(e[2]=i=>s.showApproveModal=!1),class:"mr-3"},{default:n(()=>e[35]||(e[35]=[m(" Cancel ")])),_:1}),a(s.PrimaryButton,{onClick:s.approveUser,class:S({"opacity-25":s.form.processing}),disabled:s.form.processing},{default:n(()=>e[36]||(e[36]=[m(" Approve User ")])),_:1},8,["class","disabled"])]),_:1},8,["show"]),u(" Reject Modal "),a(s.Modal,{show:s.showRejectModal,onClose:e[6]||(e[6]=i=>s.showRejectModal=!1)},{title:n(()=>e[37]||(e[37]=[m("Reject User")])),content:n(()=>[e[38]||(e[38]=t("p",{class:"mb-4 text-gray-600"},"Please provide a reason for rejecting this user. This will be included in the email notification sent to them.",-1)),t("div",Pt,[a(s.InputLabel,{for:"rejection_reason",value:"Rejection Reason"}),D(t("textarea",{id:"rejection_reason","onUpdate:modelValue":e[4]||(e[4]=i=>s.form.rejection_reason=i),class:"mt-1 block w-full border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm",rows:"4"},null,512),[[L,s.form.rejection_reason]]),a(s.InputError,{message:s.form.errors.rejection_reason,class:"mt-2"},null,8,["message"])])]),footer:n(()=>[a(s.SecondaryButton,{onClick:e[5]||(e[5]=i=>s.showRejectModal=!1),class:"mr-3"},{default:n(()=>e[39]||(e[39]=[m(" Cancel ")])),_:1}),a(s.DangerButton,{onClick:s.rejectUser,class:S({"opacity-25":s.form.processing}),disabled:s.form.processing},{default:n(()=>e[40]||(e[40]=[m(" Reject User ")])),_:1},8,["class","disabled"])]),_:1},8,["show"])]}),_:1})}const Kt=H(G,[["render",Dt],["__file","/var/www/html/resources/js/Pages/Admin/Users/Show.vue"]]);export{Kt as default};
