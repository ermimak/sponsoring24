import{e as u,I as C,f as j,o as n,w as B,g as e,l as i,y as m,j as s,t as p,u as _,W as z,F as G,m as H,p as L,v as V,a as h}from"./vendor.js";import{D as A}from"./DashboardLayout.js";import{_ as N}from"./_plugin-vue_export-helper.js";import"./SidebarLink.js";import"./NotificationDropdown.js";import"./app.js";/* empty css    */const $={class:"flex flex-col md:flex-row md:justify-between md:items-center mb-8 gap-4"},D={class:"text-3xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-purple-600 to-blue-600 flex items-center"},F={class:"ml-3 text-gray-400 text-lg font-normal bg-gray-100 px-2 py-0.5 rounded-full"},T={class:"flex gap-3 items-center"},E={class:"bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden"},I={class:"min-w-full divide-y divide-gray-200"},S={class:"bg-white divide-y divide-gray-100"},W={class:"px-6 py-4 whitespace-nowrap text-gray-800 font-medium flex items-center"},q={class:"px-6 py-4 whitespace-nowrap"},U={class:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800"},Y={class:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium"},J=["onClick","disabled"],K={key:0},O={key:0,class:"mt-4 p-4 text-center text-purple-600 flex items-center justify-center"},P={key:1,class:"mt-4 p-3 text-red-600 bg-red-50 rounded-lg flex items-center justify-center"},Q={key:2,class:"mt-4 p-3 text-green-600 bg-green-50 rounded-lg flex items-center justify-center"},R={key:3,class:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50"},X={class:"bg-white rounded-xl p-6 w-full max-w-md shadow-xl border border-gray-200 transform transition-all"},Z={class:"flex items-center justify-between mb-5 pb-3 border-b border-gray-100"},ee={class:"mb-5"},te={class:"relative"},oe={class:"flex gap-4 justify-end"},se=["disabled"],re={key:0,class:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},ne={key:1,xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 mr-1.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},le={__name:"Groups",setup(ie){const g=u([]),r=u(!1),a=u(""),w=u(""),c=u(!1),d=u("");async function v(){var l,t;try{r.value=!0;const o=await h.get("/dashboard/members/groups/data");g.value=o.data}catch(o){a.value=((t=(l=o.response)==null?void 0:l.data)==null?void 0:t.message)||"Failed to load groups."}finally{r.value=!1}}async function b(){var l,t;if(!d.value.trim()){a.value="Group name is required.";return}try{r.value=!0,await h.post("/dashboard/members/groups",{name:d.value.trim()}),w.value="Group created successfully!",d.value="",c.value=!1,await v()}catch(o){a.value=((t=(l=o.response)==null?void 0:l.data)==null?void 0:t.message)||"Failed to create group."}finally{r.value=!1}}async function k(l){var t,o,f,y;if(confirm(`Are you sure you want to delete the group "${l.name}"? This will remove it from all members.`))try{r.value=!0,await h.delete(`/dashboard/members/groups/${l.id}`),w.value="Group deleted successfully!",await v()}catch(x){a.value=((t=x.response)==null?void 0:t.status)===404?"Group not found.":((o=x.response)==null?void 0:o.status)===403?"You do not have permission to delete this group.":((y=(f=x.response)==null?void 0:f.data)==null?void 0:y.message)||"Failed to delete group."}finally{r.value=!1}}function M(){d.value="",a.value="",c.value=!0}return C(()=>{v()}),(l,t)=>(n(),j(A,null,{default:B(()=>[e("div",null,[e("div",$,[e("h1",D,[t[4]||(t[4]=e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-8 w-8 mr-3 text-purple-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})],-1)),t[5]||(t[5]=s(" Member Groups ")),e("span",F,p(g.value.length)+" groups",1)]),e("div",T,[e("button",{onClick:M,class:"px-4 py-2.5 rounded-lg bg-gradient-to-r from-purple-600 to-blue-600 text-white font-semibold shadow-md hover:shadow-lg focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-opacity-50 transition-all duration-200 flex items-center"},t[6]||(t[6]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 mr-1.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),s(" Add Group ")])),e("button",{onClick:t[0]||(t[0]=o=>_(z).visit("/dashboard/members")),class:"px-4 py-2.5 rounded-lg bg-white border border-gray-300 text-gray-700 font-medium shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-opacity-50 transition-all duration-200 flex items-center"},t[7]||(t[7]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 mr-1.5 text-gray-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})],-1),s(" Back to Members ")]))])]),e("div",E,[e("table",I,[t[11]||(t[11]=e("thead",null,[e("tr",{class:"bg-gradient-to-r from-gray-50 to-gray-100"},[e("th",{class:"px-6 py-3.5 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider"},"Name"),e("th",{class:"px-6 py-3.5 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider"},"Members"),e("th",{class:"px-6 py-3.5 text-right text-xs font-semibold text-gray-600 uppercase tracking-wider"},"Actions")])],-1)),e("tbody",S,[(n(!0),i(G,null,H(g.value,o=>(n(),i("tr",{key:o.id,class:"hover:bg-gray-50 transition-colors duration-150"},[e("td",W,[t[8]||(t[8]=e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 mr-2 text-purple-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})],-1)),s(" "+p(o.name),1)]),e("td",q,[e("span",U,p(o.member_count)+" member"+p(o.member_count!==1?"s":""),1)]),e("td",Y,[e("button",{onClick:f=>k(o),class:"text-red-600 hover:text-red-800 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-opacity-50 rounded-md px-2 py-1 transition-colors duration-200 flex items-center gap-1 ml-auto",disabled:r.value},t[9]||(t[9]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1),s(" Delete ")]),8,J)])]))),128)),g.value.length===0?(n(),i("tr",K,t[10]||(t[10]=[e("td",{colspan:"3",class:"px-6 py-10 text-center"},[e("div",{class:"flex flex-col items-center justify-center text-gray-500"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-12 w-12 text-gray-300 mb-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})]),e("p",{class:"text-lg font-medium"},"No groups found"),e("p",{class:"text-sm mt-1"},'Click "Add Group" to create your first member group')])],-1)]))):m("",!0)])])]),r.value?(n(),i("div",O,t[12]||(t[12]=[e("svg",{class:"animate-spin h-5 w-5 mr-2",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),s(" Loading... ")]))):m("",!0),a.value?(n(),i("div",P,[t[13]||(t[13]=e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 mr-2 text-red-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),s(" "+p(a.value),1)])):m("",!0),w.value?(n(),i("div",Q,[t[14]||(t[14]=e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 mr-2 text-green-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})],-1)),s(" "+p(w.value),1)])):m("",!0),c.value?(n(),i("div",R,[e("div",X,[e("div",Z,[t[16]||(t[16]=e("h2",{class:"text-xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-purple-600 to-blue-600 flex items-center"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 mr-2 text-purple-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})]),s(" Create Group ")],-1)),e("button",{onClick:t[1]||(t[1]=o=>c.value=!1),class:"text-gray-400 hover:text-gray-600 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-opacity-50 rounded-full p-1"},t[15]||(t[15]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))]),e("div",ee,[t[18]||(t[18]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1.5 flex items-center"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 mr-1.5 text-purple-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 8h10M7 12h4m1 8l-4-4H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-3l-4 4z"})]),s(" Group Name ")],-1)),e("div",te,[L(e("input",{"onUpdate:modelValue":t[2]||(t[2]=o=>d.value=o),type:"text",class:"w-full px-4 py-2.5 rounded-lg border border-gray-300 shadow-sm focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500 transition-colors duration-200",placeholder:"Enter group name"},null,512),[[V,d.value]]),t[17]||(t[17]=e("div",{class:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none text-gray-400"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})])],-1))])]),e("div",oe,[e("button",{onClick:t[3]||(t[3]=o=>c.value=!1),class:"px-4 py-2 rounded-lg bg-white border border-gray-300 text-gray-700 font-medium shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-opacity-50 transition-all duration-200 flex items-center"},t[19]||(t[19]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 mr-1.5 text-gray-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1),s(" Cancel ")])),e("button",{onClick:b,disabled:r.value,class:"px-4 py-2 rounded-lg bg-gradient-to-r from-purple-600 to-blue-600 text-white font-semibold shadow-md hover:shadow-lg focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-opacity-50 transition-all duration-200 flex items-center disabled:opacity-70 disabled:cursor-not-allowed"},[r.value?(n(),i("svg",re,t[20]||(t[20]=[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)]))):(n(),i("svg",ne,t[21]||(t[21]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"},null,-1)]))),t[22]||(t[22]=s(" Save "))],8,se)])])])):m("",!0)])]),_:1}))}},we=N(le,[["__scopeId","data-v-d046935e"]]);export{we as default};
