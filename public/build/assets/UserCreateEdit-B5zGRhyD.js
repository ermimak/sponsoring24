import{p as T,x as R,c as $,o as r,w as A,a as s,d as a,e as f,F as y,j as w,h as N,t as p,b as q,f as n,u as l,q as x,v as b,g as G}from"./app-BDDThPdq.js";import{D as h}from"./DashboardLayout-DX3pOCJ2.js";/* empty css            */import"./SidebarLink-BeQ8zajy.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const z={key:0},H={key:1},I={class:"p-6"},J={class:"max-w-2xl mx-auto bg-white shadow rounded-lg p-6"},K={key:0,class:"mb-4 p-4 bg-red-100 text-red-700 rounded"},Q={class:"list-disc list-inside"},W={class:"font-semibold"},X={key:1,class:"mb-4 p-4 bg-red-100 text-red-700 rounded"},Y={key:2,class:"mb-4 p-4 bg-green-100 text-green-700 rounded"},Z={class:"grid grid-cols-2 gap-4"},_={class:"block text-sm font-medium text-gray-700"},ee=["value"],se=["value"],te={class:"flex justify-end space-x-4"},ne={__name:"UserCreateEdit",props:{roles:Array,permissions:Array,user:Object,errors:Object},setup(m){var v,k,c,V,U,M,C,E,F,S,j,B,D,L;const g=T(),i=m,u={success:((v=g.props.flash)==null?void 0:v.success)||"",error:((k=g.props.flash)==null?void 0:k.error)||""},o=R({user_id:((c=i.user)==null?void 0:c.id)||null,gender:((V=i.user)==null?void 0:V.gender)||"",first_name:((M=(U=i.user)==null?void 0:U.name)==null?void 0:M.split(" ")[0])||"",last_name:((E=(C=i.user)==null?void 0:C.name)==null?void 0:E.split(" ")[1])||"",email:((F=i.user)==null?void 0:F.email)||"",password:"",password_confirmation:"",two_factor:((S=i.user)==null?void 0:S.two_factor_enabled)||!1,roles:((B=(j=i.user)==null?void 0:j.roles)==null?void 0:B.map(d=>d.id))||[],permissions:((L=(D=i.user)==null?void 0:D.permissions)==null?void 0:L.map(d=>d.id))||[]});function P(){o.post(route("dashboard.users.store"),{onSuccess:()=>{var d;o.reset(),u.success=((d=g.props.flash)==null?void 0:d.success)||"",u.error=""},onError:d=>{u.error=""}})}return(d,e)=>(r(),$(h,null,{breadcrumbs:A(()=>[m.user?(r(),a("span",H,"Edit user")):(r(),a("span",z,"Add additional login"))]),default:A(()=>[s("div",I,[s("div",J,[m.errors?(r(),a("div",K,[s("ul",Q,[(r(!0),a(y,null,w(m.errors,(t,O)=>(r(),a("li",{key:O},[s("span",W,p(O.replace("_"," "))+":",1),N(" "+p(t[0]),1)]))),128))])])):f("",!0),u.error?(r(),a("div",X,p(u.error),1)):f("",!0),u.success?(r(),a("div",Y,p(u.success),1)):f("",!0),s("form",{onSubmit:q(P,["prevent"]),class:"space-y-6"},[e[22]||(e[22]=s("div",{class:"border-t border-gray-200"},null,-1)),s("div",Z,[s("div",null,[e[11]||(e[11]=s("label",{class:"block text-sm font-medium text-gray-700"},"Gender*",-1)),n(s("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>l(o).gender=t),class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm"},e[10]||(e[10]=[s("option",{value:""},"Please select...",-1),s("option",{value:"Male"},"Male",-1),s("option",{value:"Female"},"Female",-1),s("option",{value:"Other"},"Other",-1)]),512),[[x,l(o).gender]])]),s("div",null,[e[12]||(e[12]=s("label",{class:"block text-sm font-medium text-gray-700"},"First name*",-1)),n(s("input",{"onUpdate:modelValue":e[1]||(e[1]=t=>l(o).first_name=t),type:"text",class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm"},null,512),[[b,l(o).first_name]])]),s("div",null,[e[13]||(e[13]=s("label",{class:"block text-sm font-medium text-gray-700"},"Last name*",-1)),n(s("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>l(o).last_name=t),type:"text",class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm"},null,512),[[b,l(o).last_name]])])]),s("div",null,[e[14]||(e[14]=s("label",{class:"block text-sm font-medium text-gray-700"},"E-mail*",-1)),n(s("input",{"onUpdate:modelValue":e[3]||(e[3]=t=>l(o).email=t),type:"email",class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm"},null,512),[[b,l(o).email]])]),s("div",null,[e[15]||(e[15]=s("label",{class:"block text-sm font-medium text-gray-700"},"Password*",-1)),n(s("input",{"onUpdate:modelValue":e[4]||(e[4]=t=>l(o).password=t),type:"password",class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm"},null,512),[[b,l(o).password]]),e[16]||(e[16]=s("p",{class:"text-xs text-gray-500 mt-1"},"Leave blank if you do not want to change the password.",-1))]),s("div",null,[e[17]||(e[17]=s("label",{class:"block text-sm font-medium text-gray-700"},"Repeat password*",-1)),n(s("input",{"onUpdate:modelValue":e[5]||(e[5]=t=>l(o).password_confirmation=t),type:"password",class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm"},null,512),[[b,l(o).password_confirmation]])]),s("div",null,[s("label",_,[n(s("input",{"onUpdate:modelValue":e[6]||(e[6]=t=>l(o).two_factor=t),type:"checkbox"},null,512),[[G,l(o).two_factor]]),e[18]||(e[18]=N(" Two-factor authentication "))])]),s("div",null,[e[19]||(e[19]=s("label",{class:"block text-sm font-medium text-gray-700"},"Roles",-1)),n(s("select",{"onUpdate:modelValue":e[7]||(e[7]=t=>l(o).roles=t),multiple:"",class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm"},[(r(!0),a(y,null,w(m.roles,t=>(r(),a("option",{key:t.id,value:t.id},p(t.name),9,ee))),128))],512),[[x,l(o).roles]])]),s("div",null,[e[20]||(e[20]=s("label",{class:"block text-sm font-medium text-gray-700"},"Permissions",-1)),n(s("select",{"onUpdate:modelValue":e[8]||(e[8]=t=>l(o).permissions=t),multiple:"",class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm"},[(r(!0),a(y,null,w(m.permissions,t=>(r(),a("option",{key:t.id,value:t.id},p(t.name),9,se))),128))],512),[[x,l(o).permissions]])]),s("div",te,[s("button",{type:"button",onClick:e[9]||(e[9]=t=>d.$inertia.get(d.route("dashboard.users"))),class:"px-4 py-2 bg-gray-200 text-gray-700 rounded-md hover:bg-gray-300"},"Cancel"),e[21]||(e[21]=s("button",{type:"submit",class:"px-4 py-2 bg-purple-600 text-white rounded-md hover:bg-purple-700"},"Save",-1))])],32)])])]),_:1}))}};export{ne as default};
