import{e as D,o as s,w as x,f as r,k as i,y as k,F as M,l as S,n as I,t as m,p as v,W as g}from"./vendor.js";import{r as _}from"./app.js";import{D as j}from"./DashboardLayout.js";import{_ as C}from"./_plugin-vue_export-helper.js";/* empty css    */import"./SidebarLink.js";import"./NotificationDropdown.js";const R={__name:"Index",props:{notifications:{type:Array,default:()=>[]}},setup(p,{expose:n}){n();const a=p,e=v(()=>Array.isArray(a.notifications)?a.notifications.filter(t=>!t.read_at).length:0),h={props:a,unreadCount:e,formatDate:t=>{const c=new Date(t),y=Math.floor((new Date-c)/1e3);if(y<60)return"just now";const d=Math.floor(y/60);if(d<60)return`${d} ${d===1?"minute":"minutes"} ago`;const u=Math.floor(d/60);if(u<24)return`${u} ${u===1?"hour":"hours"} ago`;const l=Math.floor(u/24);if(l<30)return`${l} ${l===1?"day":"days"} ago`;const f=Math.floor(l/30);if(f<12)return`${f} ${f===1?"month":"months"} ago`;const b=Math.floor(f/12);return`${b} ${b===1?"year":"years"} ago`},getNotificationTitle:t=>{const c=t.data;switch(c.type){case"account_approval":return"Account Approved";case"account_pending":return"Account Pending";case"account_rejection":return"Account Rejected";case"payment_received":return"Payment Received";case"project_update":return"Project Update";case"new_donation":return"New Donation";default:return c.message||"Notification"}},getNotificationMessage:t=>t.data.message||"",markAsRead:t=>{g.post(_("dashboard.notifications.mark-as-read",{notification:t.id}),{},{preserveScroll:!0,onSuccess:()=>{t.read_at=new Date().toISOString()}})},markAllAsRead:()=>{g.post(_("dashboard.notifications.mark-all-as-read"),{},{preserveScroll:!0,onSuccess:()=>{a.notifications.forEach(t=>{t.read_at||(t.read_at=new Date().toISOString())})}})},computed:v,get router(){return g},get route(){return _},DashboardLayout:j};return Object.defineProperty(h,"__isScriptSetup",{enumerable:!1,value:!0}),h}},$={class:"bg-white rounded-lg shadow-sm p-6"},P={class:"flex justify-between items-center mb-6"},B={key:0,class:"text-center py-8 text-gray-500"},L={key:1,class:"space-y-4"},O={class:"flex justify-between items-start"},T={class:"font-medium text-gray-900"},E={class:"text-sm text-gray-600 mt-1"},F={class:"text-xs text-gray-500 mt-2"},V=["onClick"];function W(p,n,a,e,w,A){return s(),D(e.DashboardLayout,{title:"Notifications"},{breadcrumbs:x(()=>n[0]||(n[0]=[r("h2",{class:"text-xl font-semibold text-gray-800"}," Notifications ",-1)])),default:x(()=>[r("div",$,[r("div",P,[n[1]||(n[1]=r("h3",{class:"text-lg font-medium text-gray-900"},"All Notifications",-1)),e.unreadCount>0?(s(),i("button",{key:0,onClick:e.markAllAsRead,class:"px-4 py-2 bg-gradient-to-r from-purple-600 to-blue-600 text-white text-sm font-medium rounded-md hover:from-purple-700 hover:to-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"}," Mark all as read ")):k("v-if",!0)]),a.notifications.length===0?(s(),i("div",B," No notifications to display ")):(s(),i("div",L,[(s(!0),i(M,null,S(a.notifications,o=>(s(),i("div",{key:o.id,class:I(["p-4 border rounded-md transition-colors duration-200",{"bg-blue-50 border-blue-200":!o.read_at,"border-gray-200":o.read_at}])},[r("div",O,[r("div",null,[r("h4",T,m(e.getNotificationTitle(o)),1),r("p",E,m(e.getNotificationMessage(o)),1),r("p",F,m(e.formatDate(o.created_at)),1)]),o.read_at?k("v-if",!0):(s(),i("button",{key:0,onClick:N=>e.markAsRead(o),class:"px-3 py-1 bg-blue-100 text-blue-700 text-xs font-medium rounded hover:bg-blue-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"}," Mark as read ",8,V))])],2))),128))]))])]),_:1})}const X=C(R,[["render",W],["__file","/var/www/html/resources/js/Pages/Notifications/Index.vue"]]);export{X as default};
