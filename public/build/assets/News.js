import{e as g,x as U,f as T,o as u,w as r,g as e,i as l,u as n,S as F,j as a,l as m,y as j,F as q,m as z,t as p,n as C,k as L,p as _,v as N,z as R,A as G}from"./vendor.js";import{_ as H}from"./AdminLayout.js";import{_ as D}from"./Modal.js";import{_ as x}from"./InputLabel.js";import{_ as J}from"./TextInput.js";import{_ as w}from"./InputError.js";import{P as K}from"./PrimaryButton.js";import{S as M}from"./SecondaryButton.js";import{D as O}from"./DangerButton.js";import{r as b}from"./app.js";import"./NotificationDropdown.js";import"./_plugin-vue_export-helper.js";/* empty css    */const Q={class:"py-12"},W={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},X={class:"mb-6"},Y={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},Z={class:"p-6 bg-white border-b border-gray-200"},ee={class:"flex justify-between items-center mb-6"},te={class:"overflow-x-auto bg-white rounded-lg shadow overflow-y-auto"},se={class:"min-w-full divide-y divide-gray-200"},oe={class:"bg-white divide-y divide-gray-200"},ne={class:"px-6 py-4"},le={class:"text-sm font-medium text-gray-900"},ie={class:"text-sm text-gray-500 truncate max-w-md"},re={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},ae={class:"px-6 py-4 whitespace-nowrap"},de={key:0,class:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800"},ue={key:1,class:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-gray-100 text-gray-800"},ce={class:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium"},me=["onClick"],pe=["onClick"],fe={key:0},ge={class:"mb-4"},xe={class:"mb-4"},we={class:"mb-4"},be={class:"mb-4"},ve={class:"mb-4 flex items-center"},Pe={__name:"News",props:{news:Array},setup(h){const v=g(!1),d=g(!1),c=g(!1),y=g(null),s=U({title:"",excerpt:"",content:"",image_url:"",is_published:!0}),I=i=>G(new Date(i),"PPP"),S=(i,t)=>{s[t]=i.target.files[0]},f=()=>{v.value=!1,d.value=!1,s.reset(),s.clearErrors()},V=i=>{y.value=i,s.title=i.title,s.excerpt=i.excerpt,s.content=i.content,s.image_url=i.image_url,s.is_published=i.is_published,d.value=!0},$=async()=>{s.post(b("admin.content.news.create"),{onSuccess:()=>{f()}})},B=async()=>{s.put(b("admin.content.news.update"),{onSuccess:()=>{f()}})},k=()=>{d.value?B():$()},P=i=>{y.value=i,c.value=!0},A=()=>{s.delete(b("admin.content.news.destroy",y.value.id),{onSuccess:()=>{c.value=!1}})};return(i,t)=>(u(),T(H,{title:"News Management"},{default:r(()=>[e("div",Q,[e("div",W,[e("div",X,[l(n(F),{href:n(b)("admin.content.index"),class:"text-indigo-600 hover:text-indigo-900 flex items-center"},{default:r(()=>t[8]||(t[8]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})],-1),a(" Back to Content Management ")])),_:1},8,["href"])]),e("div",Y,[e("div",Z,[e("div",ee,[t[9]||(t[9]=e("h1",{class:"text-2xl font-semibold text-gray-800"},"News Management",-1)),e("button",{onClick:t[0]||(t[0]=o=>v.value=!0),class:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"}," Add News Item ")]),e("div",te,[e("table",se,[t[11]||(t[11]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Title "),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Date "),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Status "),e("th",{scope:"col",class:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider"}," Actions ")])],-1)),e("tbody",oe,[(u(!0),m(q,null,z(h.news,o=>(u(),m("tr",{key:o.id},[e("td",ne,[e("div",le,p(o.title),1),e("div",ie,p(o.excerpt),1)]),e("td",re,p(I(o.published_at)),1),e("td",ae,[o.is_published?(u(),m("span",de," Published ")):(u(),m("span",ue," Draft "))]),e("td",ce,[e("button",{onClick:E=>V(o),class:"text-indigo-600 hover:text-indigo-900 mr-3"}," Edit ",8,me),e("button",{onClick:E=>P(o),class:"text-red-600 hover:text-red-900"}," Delete ",8,pe)])]))),128)),h.news.length===0?(u(),m("tr",fe,t[10]||(t[10]=[e("td",{colspan:"4",class:"px-6 py-4 whitespace-nowrap text-center text-gray-500"}," No news items found ",-1)]))):j("",!0)])])])])])])]),l(D,{show:v.value||d.value,onClose:f},{title:r(()=>[a(p(d.value?"Edit News Item":"Add News Item"),1)]),content:r(()=>[e("form",{onSubmit:L(k,["prevent"])},[e("div",ge,[l(x,{for:"title",value:"Title"}),l(J,{id:"title",type:"text",class:"mt-1 block w-full",modelValue:n(s).title,"onUpdate:modelValue":t[1]||(t[1]=o=>n(s).title=o),required:"",autofocus:""},null,8,["modelValue"]),l(w,{message:n(s).errors.title,class:"mt-2"},null,8,["message"])]),e("div",xe,[l(x,{for:"excerpt",value:"Excerpt"}),_(e("textarea",{id:"excerpt",class:"mt-1 block w-full border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm","onUpdate:modelValue":t[2]||(t[2]=o=>n(s).excerpt=o),rows:"2",required:""},null,512),[[N,n(s).excerpt]]),l(w,{message:n(s).errors.excerpt,class:"mt-2"},null,8,["message"])]),e("div",we,[l(x,{for:"content",value:"Content"}),_(e("textarea",{id:"content",class:"mt-1 block w-full border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm","onUpdate:modelValue":t[3]||(t[3]=o=>n(s).content=o),rows:"6",required:""},null,512),[[N,n(s).content]]),l(w,{message:n(s).errors.content,class:"mt-2"},null,8,["message"])]),e("div",be,[l(x,{for:"image_url",value:"Image URL"}),e("input",{type:"file",onChange:t[4]||(t[4]=o=>S(o,"image_url"))},null,32),l(w,{message:n(s).errors.image_url,class:"mt-2"},null,8,["message"])]),e("div",ve,[_(e("input",{id:"is_published",type:"checkbox",class:"rounded border-gray-300 text-indigo-600 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50","onUpdate:modelValue":t[5]||(t[5]=o=>n(s).is_published=o)},null,512),[[R,n(s).is_published]]),t[12]||(t[12]=e("label",{for:"is_published",class:"ml-2 block text-sm text-gray-900"}," Publish immediately ",-1))])],32)]),footer:r(()=>[l(M,{onClick:f,class:"mr-3"},{default:r(()=>t[13]||(t[13]=[a(" Cancel ")])),_:1}),l(K,{onClick:k,class:C({"opacity-25":n(s).processing}),disabled:n(s).processing},{default:r(()=>[a(p(d.value?"Update":"Create"),1)]),_:1},8,["class","disabled"])]),_:1},8,["show"]),l(D,{show:c.value,onClose:t[7]||(t[7]=o=>c.value=!1)},{title:r(()=>t[14]||(t[14]=[a("Delete News Item")])),content:r(()=>t[15]||(t[15]=[e("p",{class:"mb-6 text-gray-600"},"Are you sure you want to delete this news item? This action cannot be undone.",-1)])),footer:r(()=>[l(M,{onClick:t[6]||(t[6]=o=>c.value=!1),class:"mr-3"},{default:r(()=>t[16]||(t[16]=[a(" Cancel ")])),_:1}),l(O,{onClick:A,class:C({"opacity-25":n(s).processing}),disabled:n(s).processing},{default:r(()=>t[17]||(t[17]=[a(" Delete ")])),_:1},8,["class","disabled"])]),_:1},8,["show"])]),_:1}))}};export{Pe as default};
