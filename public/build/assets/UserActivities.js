import{e as k,o as l,w as d,f as t,g as r,i as p,y as c,t as a,j as T,q as B,k as m,F as x,l as g,G as D,n as V,m as v,A as h,W as b,S as j}from"./vendor.js";import{A as F}from"./AdminLayout.js";import{I as S}from"./InputLabel.js";import{T as U}from"./TextInput.js";import{P as C}from"./PrimaryButton.js";import{S as I}from"./SecondaryButton.js";import{P as L}from"./Pagination.js";import{r as w}from"./app.js";import{_ as P}from"./_plugin-vue_export-helper.js";import"./NotificationDropdown.js";/* empty css    */const M={__name:"UserActivities",props:{user:Object,activities:Object,activityTypes:Array,filters:Object},setup(f,{expose:s}){s();const o=f,e=v({activity_type:o.filters.activity_type||"",date_from:o.filters.date_from||"",date_to:o.filters.date_to||""}),u=()=>{b.get(w("admin.users.activities",o.user.id),{activity_type:e.value.activity_type,date_from:e.value.date_from,date_to:e.value.date_to},{preserveState:!0,replace:!0})},_={props:o,filters:e,applyFilters:u,resetFilters:()=>{e.value={activity_type:"",date_from:"",date_to:""},u()},formatDateTime:n=>h(new Date(n),"MMM d, yyyy HH:mm:ss"),formatActivityType:n=>n.split("_").map(y=>y.charAt(0).toUpperCase()+y.slice(1)).join(" "),getActivityTypeBadgeClass:n=>({authentication:"bg-blue-100 text-blue-800",payment:"bg-green-100 text-green-800",profile:"bg-yellow-100 text-yellow-800",project:"bg-purple-100 text-purple-800",admin:"bg-red-100 text-red-800"})[n]||"bg-gray-100 text-gray-800",ref:v,get Link(){return j},get router(){return b},get format(){return h},AdminLayout:F,InputLabel:S,TextInput:U,PrimaryButton:C,SecondaryButton:I,Pagination:L,get route(){return w}};return Object.defineProperty(_,"__isScriptSetup",{enumerable:!1,value:!0}),_}},N={class:"py-12"},O={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},H={class:"mb-6"},W={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},q={class:"p-6 bg-white border-b border-gray-200"},z={class:"flex justify-between items-center mb-6"},E={class:"text-2xl font-semibold text-gray-800"},G={class:"bg-gray-50 p-4 rounded-lg mb-6"},R={class:"flex items-center"},J={class:"flex-shrink-0"},K={class:"h-12 w-12 rounded-full bg-indigo-100 flex items-center justify-center"},Q={class:"text-indigo-800 font-medium text-lg"},X={class:"ml-4"},Y={class:"text-lg font-medium text-gray-900"},Z={class:"text-sm text-gray-500"},$={class:"mb-6 bg-gray-50 p-4 rounded-lg"},tt={class:"grid grid-cols-1 md:grid-cols-4 gap-4"},et=["value"],st={class:"flex items-end"},it={class:"overflow-x-auto"},ot={class:"min-w-full divide-y divide-gray-200"},rt={class:"bg-white divide-y divide-gray-200"},at={key:0},lt={class:"px-6 py-4 whitespace-nowrap"},nt={class:"px-6 py-4"},dt={class:"text-sm text-gray-900 max-w-xs truncate"},ct={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},mt={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},pt={class:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium"},ut={class:"mt-6"};function yt(f,s,o,e,u,A){return l(),k(e.AdminLayout,{title:"User Activities"},{default:d(()=>[t("div",N,[t("div",O,[t("div",H,[r(e.Link,{href:e.route("admin.users.show",o.user.id),class:"text-indigo-600 hover:text-indigo-900 flex items-center"},{default:d(()=>s[3]||(s[3]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})],-1),p(" Back to User Details ")])),_:1},8,["href"])]),t("div",W,[t("div",q,[t("div",z,[t("h1",E," Activities for "+a(o.user.name),1)]),c(" User Info Card "),t("div",G,[t("div",R,[t("div",J,[t("div",K,[t("span",Q,a(o.user.name.charAt(0)),1)])]),t("div",X,[t("h2",Y,a(o.user.name),1),t("p",Z,a(o.user.email),1)])])]),c(" Filters "),t("div",$,[s[7]||(s[7]=t("h2",{class:"text-lg font-medium text-gray-700 mb-3"},"Filters",-1)),t("form",{onSubmit:T(e.applyFilters,["prevent"])},[t("div",tt,[t("div",null,[r(e.InputLabel,{for:"activity_type",value:"Activity Type"}),B(t("select",{id:"activity_type","onUpdate:modelValue":s[0]||(s[0]=i=>e.filters.activity_type=i),class:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md"},[s[4]||(s[4]=t("option",{value:""},"All Types",-1)),(l(!0),m(x,null,g(o.activityTypes,i=>(l(),m("option",{key:i,value:i},a(e.formatActivityType(i)),9,et))),128))],512),[[D,e.filters.activity_type]])]),t("div",null,[r(e.InputLabel,{for:"date_from",value:"From Date"}),r(e.TextInput,{id:"date_from",type:"date",class:"mt-1 block w-full",modelValue:e.filters.date_from,"onUpdate:modelValue":s[1]||(s[1]=i=>e.filters.date_from=i)},null,8,["modelValue"])]),t("div",null,[r(e.InputLabel,{for:"date_to",value:"To Date"}),r(e.TextInput,{id:"date_to",type:"date",class:"mt-1 block w-full",modelValue:e.filters.date_to,"onUpdate:modelValue":s[2]||(s[2]=i=>e.filters.date_to=i)},null,8,["modelValue"])]),t("div",st,[r(e.PrimaryButton,{type:"submit",class:"mr-2"},{default:d(()=>s[5]||(s[5]=[p(" Apply Filters ")])),_:1}),r(e.SecondaryButton,{type:"button",onClick:e.resetFilters},{default:d(()=>s[6]||(s[6]=[p(" Reset ")])),_:1})])])],32)]),c(" Activities Table "),t("div",it,[t("table",ot,[s[10]||(s[10]=t("thead",{class:"bg-gray-50"},[t("tr",null,[t("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Activity Type "),t("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Description "),t("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," IP Address "),t("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Date/Time "),t("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Actions ")])],-1)),t("tbody",rt,[o.activities.data.length===0?(l(),m("tr",at,s[8]||(s[8]=[t("td",{colspan:"5",class:"px-6 py-4 text-center text-gray-500"}," No activities found ",-1)]))):c("v-if",!0),(l(!0),m(x,null,g(o.activities.data,i=>(l(),m("tr",{key:i.id,class:"hover:bg-gray-50"},[t("td",lt,[t("span",{class:V(["px-2 inline-flex text-xs leading-5 font-semibold rounded-full",e.getActivityTypeBadgeClass(i.activity_type)])},a(e.formatActivityType(i.activity_type)),3)]),t("td",nt,[t("div",dt,a(i.description),1)]),t("td",ct,a(i.ip_address||"N/A"),1),t("td",mt,a(e.formatDateTime(i.created_at)),1),t("td",pt,[r(e.Link,{href:e.route("admin.user-activities.show",i.id),class:"text-indigo-600 hover:text-indigo-900"},{default:d(()=>[...s[9]||(s[9]=[p(" View Details ")])]),_:2},1032,["href"])])]))),128))])])]),c(" Pagination "),t("div",ut,[r(e.Pagination,{links:o.activities.links},null,8,["links"])])])])])])]),_:1})}const Vt=P(M,[["render",yt],["__file","/var/www/html/resources/js/Pages/Admin/UserActivities/UserActivities.vue"]]);export{Vt as default};
