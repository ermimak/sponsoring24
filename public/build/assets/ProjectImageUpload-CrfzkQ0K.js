import{r as d,d as l,o,a,e as u,b as y,t as v,y as h}from"./app-BDDThPdq.js";/* empty css            */const w={class:"bg-white rounded-lg p-6 border"},k={class:"mb-4"},q=["src"],I={class:"mb-4"},j=["src"],C=["disabled"],D={key:0,class:"mt-4 text-green-600"},F={key:1,class:"text-gray-500"},S={key:2,class:"text-red-600"},L={__name:"ProjectImageUpload",props:{projectId:String},setup(f){const b=f,n=d({landscape:null,square:null}),r=d({landscape:"",square:""}),p=d(""),i=d(!1),c=d("");function m(s,e){const t=s.target.files[0];if(n.value[e]=t,t){const g=new FileReader;g.onload=_=>{r.value[e]=_.target.result},g.readAsDataURL(t)}}async function x(){i.value=!0,c.value="";try{const s=new FormData;n.value.landscape&&s.append("image_landscape",n.value.landscape),n.value.square&&s.append("image_square",n.value.square),await h.post(`/dashboard/projects/${b.projectId}/upload-image`,s),p.value="Images uploaded successfully!"}catch{c.value="Failed to upload images."}i.value=!1}return(s,e)=>(o(),l("div",w,[e[4]||(e[4]=a("h2",{class:"text-xl font-semibold mb-4"},"Project Images",-1)),a("form",{onSubmit:y(x,["prevent"])},[a("div",k,[e[2]||(e[2]=a("label",{class:"block text-sm font-medium mb-1"},"Landscape Image (1200x300px)",-1)),a("input",{type:"file",onChange:e[0]||(e[0]=t=>m(t,"landscape")),accept:"image/*"},null,32),r.value.landscape?(o(),l("img",{key:0,src:r.value.landscape,class:"mt-2 rounded border w-full max-w-lg"},null,8,q)):u("",!0)]),a("div",I,[e[3]||(e[3]=a("label",{class:"block text-sm font-medium mb-1"},"Square Image (400x400px)",-1)),a("input",{type:"file",onChange:e[1]||(e[1]=t=>m(t,"square")),accept:"image/*"},null,32),r.value.square?(o(),l("img",{key:0,src:r.value.square,class:"mt-2 rounded border w-40 h-40 object-cover"},null,8,j)):u("",!0)]),a("button",{type:"submit",class:"bg-purple-600 text-white px-4 py-2 rounded",disabled:i.value},"Upload",8,C)],32),p.value?(o(),l("div",D,v(p.value),1)):u("",!0),i.value?(o(),l("div",F,"Uploading...")):u("",!0),c.value?(o(),l("div",S,v(c.value),1)):u("",!0)]))}};export{L as default};
