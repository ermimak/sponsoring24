import{e as k,o as a,w as r,f as e,i as x,u as f,S as v,j as b,t,l as o,y as l,n as w,F as p,m as A,x as N}from"./vendor.js";import{_ as D}from"./AdminLayout.js";import"./NotificationDropdown.js";import"./app.js";/* empty css    */const L={class:"font-semibold text-xl text-gray-800 leading-tight"},B={class:"py-12"},C={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},I={class:"mb-6"},S={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg mb-6"},F={class:"p-6 bg-white border-b border-gray-200"},U={class:"flex justify-between items-center mb-6"},T={class:"text-lg font-medium text-gray-900"},V={class:"flex items-center"},j={class:"flex space-x-2"},E={class:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6"},M={class:"text-sm text-gray-500"},O={class:"font-mono bg-gray-100 px-2 py-1 rounded text-sm overflow-auto"},P={class:"text-sm text-gray-500"},G={class:"font-mono bg-gray-100 px-2 py-1 rounded text-sm overflow-auto"},J={class:"text-sm text-gray-500"},z={class:"font-medium"},K={class:"text-sm text-gray-500"},R={class:"font-medium"},q={key:0,class:"text-sm text-green-600"},H={class:"text-sm text-gray-500"},Q={class:"font-medium"},W={class:"text-sm text-gray-500"},X={class:"font-medium"},Y={class:"text-sm text-gray-500"},Z={class:"font-medium"},ee={class:"text-sm text-gray-500"},te={class:"font-medium"},se={class:"border-t border-gray-200 pt-6 mt-6"},ie={class:"font-medium text-gray-800 mb-4"},ne={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},ae={class:"text-sm text-gray-500"},oe={class:"font-medium"},de={class:"text-sm text-gray-500"},le={class:"font-medium"},re={class:"text-sm text-gray-500"},ce={class:"font-medium"},me={class:"text-sm text-gray-500"},ue={class:"font-medium"},he={class:"mt-4"},ge={key:0,class:"border-t border-gray-200 pt-6 mt-6"},ye={class:"font-medium text-gray-800 mb-4"},xe={class:"bg-gray-100 p-4 rounded-md overflow-auto text-sm"},fe={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},ve={class:"p-6 bg-white border-b border-gray-200"},be={class:"text-lg font-medium text-gray-900 mb-4"},we={key:0,class:"text-gray-500"},$e={key:1,class:"space-y-4"},_e={class:"flex items-start"},ke={class:"ml-3"},pe={class:"text-sm font-medium text-gray-900"},Ae={class:"text-xs text-gray-500"},Ne={key:0,class:"mt-1 text-xs text-gray-600"},De={class:"bg-gray-50 p-2 rounded"},Fe={__name:"Show",props:{license:Object,activities:Array},setup(s){const $=s,c=i=>{if(!i)return"N/A";const n=new Date(i);return new Intl.DateTimeFormat("en-GB",{day:"2-digit",month:"2-digit",year:"numeric"}).format(n)},m=i=>{if(!i)return"N/A";const n=new Date(i);return new Intl.DateTimeFormat("en-GB",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1}).format(n)},u=i=>{N({status:i}).post(route("admin.licenses.update-status",$.license.id),{preserveScroll:!0})};return(i,n)=>(a(),k(D,null,{header:r(()=>[e("h2",L,t(i.$t("License Details")),1)]),default:r(()=>{var h,g,y;return[e("div",B,[e("div",C,[e("div",I,[x(f(v),{href:i.route("admin.licenses.index"),class:"text-blue-600 hover:text-blue-800 flex items-center"},{default:r(()=>[n[2]||(n[2]=e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})],-1)),b(" "+t(i.$t("Back to Licenses")),1)]),_:1},8,["href"])]),e("div",S,[e("div",F,[e("div",U,[e("h3",T,t(i.$t("License Information")),1),e("div",V,[e("span",{class:w({"px-3 py-1 rounded-full text-sm font-medium mr-3":!0,"bg-green-100 text-green-800":s.license.is_active,"bg-red-100 text-red-800":s.license.is_expired||s.license.status==="revoked","bg-yellow-100 text-yellow-800":!s.license.is_active&&!s.license.is_expired&&s.license.status!=="revoked"})},t(s.license.status.charAt(0).toUpperCase()+s.license.status.slice(1)),3),e("div",j,[s.license.status!=="active"?(a(),o("button",{key:0,onClick:n[0]||(n[0]=d=>u("active")),class:"px-3 py-1 bg-green-600 text-white rounded-md hover:bg-green-700 text-sm"},t(i.$t("Activate")),1)):l("",!0),s.license.status!=="revoked"?(a(),o("button",{key:1,onClick:n[1]||(n[1]=d=>u("revoked")),class:"px-3 py-1 bg-red-600 text-white rounded-md hover:bg-red-700 text-sm"},t(i.$t("Revoke")),1)):l("",!0)])])]),e("div",E,[e("div",null,[e("p",M,t(i.$t("License Key")),1),e("p",O,t(s.license.license_key),1)]),e("div",null,[e("p",P,t(i.$t("Payment ID")),1),e("p",G,t(s.license.payment_id||"N/A"),1)]),e("div",null,[e("p",J,t(i.$t("License Type")),1),e("p",z,t(s.license.type==="annual"?i.$t("Annual License"):i.$t("Monthly License")),1)]),e("div",null,[e("p",K,t(i.$t("Amount Paid")),1),e("p",R,t(s.license.currency)+" "+t(s.license.amount.toFixed(2)),1),s.license.discount_applied?(a(),o("p",q,t(i.$t("Discount Applied"))+": "+t(s.license.currency)+" "+t(s.license.discount_amount.toFixed(2)),1)):l("",!0)]),e("div",null,[e("p",H,t(i.$t("Issue Date")),1),e("p",Q,t(c(s.license.issued_at)),1)]),e("div",null,[e("p",W,t(i.$t("Expiry Date")),1),e("p",X,t(c(s.license.expires_at)),1),s.license.days_remaining!==null?(a(),o("p",{key:0,class:w(["text-sm",{"text-green-600":s.license.days_remaining>30,"text-yellow-600":s.license.days_remaining<=30&&s.license.days_remaining>0,"text-red-600":s.license.days_remaining<=0}])},t(s.license.days_remaining>0?`${s.license.days_remaining} ${i.$t("days remaining")}`:i.$t("Expired")),3)):l("",!0)]),e("div",null,[e("p",Y,t(i.$t("Created At")),1),e("p",Z,t(m(s.license.created_at)),1)]),e("div",null,[e("p",ee,t(i.$t("Last Updated")),1),e("p",te,t(m(s.license.updated_at)),1)])]),e("div",se,[e("h4",ie,t(i.$t("User Information")),1),e("div",ne,[e("div",null,[e("p",ae,t(i.$t("Name")),1),e("p",oe,t(((h=s.license.user)==null?void 0:h.name)||"N/A"),1)]),e("div",null,[e("p",de,t(i.$t("Email")),1),e("p",le,t(((g=s.license.user)==null?void 0:g.email)||"N/A"),1)]),e("div",null,[e("p",re,t(i.$t("User ID")),1),e("p",ce,t(s.license.user_id),1)]),e("div",null,[e("p",me,t(i.$t("User Since")),1),e("p",ue,t((y=s.license.user)!=null&&y.created_at?c(s.license.user.created_at):"N/A"),1)])]),e("div",he,[x(f(v),{href:i.route("admin.users.show",s.license.user_id),class:"text-blue-600 hover:text-blue-800"},{default:r(()=>[b(t(i.$t("View User Profile")),1)]),_:1},8,["href"])])]),s.license.metadata?(a(),o("div",ge,[e("h4",ye,t(i.$t("Additional Metadata")),1),e("pre",xe,t(JSON.stringify(s.license.metadata,null,2)),1)])):l("",!0)])]),e("div",fe,[e("div",ve,[e("h3",be,t(i.$t("Activity Log")),1),s.activities.length===0?(a(),o("div",we,t(i.$t("No activities recorded for this license.")),1)):(a(),o("div",$e,[(a(!0),o(p,null,A(s.activities,(d,_)=>(a(),o("div",{key:_,class:"border-l-2 border-gray-200 pl-4 py-2"},[e("div",_e,[n[3]||(n[3]=e("div",{class:"flex-shrink-0 h-4 w-4 rounded-full bg-blue-500 mt-1"},null,-1)),e("div",ke,[e("p",pe,t(d.description),1),e("p",Ae,t(m(d.created_at)),1),d.properties?(a(),o("div",Ne,[e("pre",De,t(JSON.stringify(d.properties,null,2)),1)])):l("",!0)])])]))),128))]))])])])])]}),_:1}))}};export{Fe as default};
