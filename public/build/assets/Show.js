import{e as w,o as a,w as _,f as e,y as c,g,i as h,t,k as l,n as f,F as k,l as p,x as y,S as D}from"./vendor.js";import{A}from"./AdminLayout.js";import{_ as L}from"./_plugin-vue_export-helper.js";import"./NotificationDropdown.js";import"./app.js";/* empty css    */const N={__name:"Show",props:{license:Object,activities:Array},setup(i,{expose:o}){o();const s=i,u={props:s,formatDate:d=>{if(!d)return"N/A";const r=new Date(d);return new Intl.DateTimeFormat("en-GB",{day:"2-digit",month:"2-digit",year:"numeric"}).format(r)},formatDateTime:d=>{if(!d)return"N/A";const r=new Date(d);return new Intl.DateTimeFormat("en-GB",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1}).format(r)},updateStatus:d=>{y({status:d}).post(route("admin.licenses.update-status",s.license.id),{preserveScroll:!0})},get Link(){return D},get useForm(){return y},AdminLayout:A};return Object.defineProperty(u,"__isScriptSetup",{enumerable:!1,value:!0}),u}},S={class:"font-semibold text-xl text-gray-800 leading-tight"},T={class:"py-12"},B={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},C={class:"mb-6"},F={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg mb-6"},I={class:"p-6 bg-white border-b border-gray-200"},U={class:"flex justify-between items-center mb-6"},j={class:"text-lg font-medium text-gray-900"},P={class:"flex items-center"},V={class:"flex space-x-2"},E={class:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6"},O={class:"text-sm text-gray-500"},M={class:"font-mono bg-gray-100 px-2 py-1 rounded text-sm overflow-auto"},G={class:"text-sm text-gray-500"},J={class:"font-mono bg-gray-100 px-2 py-1 rounded text-sm overflow-auto"},z={class:"text-sm text-gray-500"},K={class:"font-medium"},R={class:"text-sm text-gray-500"},q={class:"font-medium"},H={key:0,class:"text-sm text-green-600"},Q={class:"text-sm text-gray-500"},W={class:"font-medium"},X={class:"text-sm text-gray-500"},Y={class:"font-medium"},Z={class:"text-sm text-gray-500"},$={class:"font-medium"},ee={class:"text-sm text-gray-500"},te={class:"font-medium"},se={class:"border-t border-gray-200 pt-6 mt-6"},ie={class:"font-medium text-gray-800 mb-4"},ne={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},ae={class:"text-sm text-gray-500"},oe={class:"font-medium"},de={class:"text-sm text-gray-500"},le={class:"font-medium"},re={class:"text-sm text-gray-500"},ce={class:"font-medium"},me={class:"text-sm text-gray-500"},ue={class:"font-medium"},_e={class:"mt-4"},ge={key:0,class:"border-t border-gray-200 pt-6 mt-6"},he={class:"font-medium text-gray-800 mb-4"},fe={class:"bg-gray-100 p-4 rounded-md overflow-auto text-sm"},ye={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},ve={class:"p-6 bg-white border-b border-gray-200"},xe={class:"text-lg font-medium text-gray-900 mb-4"},be={key:0,class:"text-gray-500"},we={key:1,class:"space-y-4"},ke={class:"flex items-start"},pe={class:"ml-3"},De={class:"text-sm font-medium text-gray-900"},Ae={class:"text-xs text-gray-500"},Le={key:0,class:"mt-1 text-xs text-gray-600"},Ne={class:"bg-gray-50 p-2 rounded"};function Se(i,o,s,n,v,x){return a(),w(n.AdminLayout,null,{header:_(()=>[e("h2",S,t(i.$t("License Details")),1)]),default:_(()=>{var u,d,r;return[e("div",T,[e("div",B,[e("div",C,[g(n.Link,{href:i.route("admin.licenses.index"),class:"text-blue-600 hover:text-blue-800 flex items-center"},{default:_(()=>[o[2]||(o[2]=e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})],-1)),h(" "+t(i.$t("Back to Licenses")),1)]),_:1},8,["href"])]),e("div",F,[e("div",I,[e("div",U,[e("h3",j,t(i.$t("License Information")),1),e("div",P,[e("span",{class:f({"px-3 py-1 rounded-full text-sm font-medium mr-3":!0,"bg-green-100 text-green-800":s.license.is_active,"bg-red-100 text-red-800":s.license.is_expired||s.license.status==="revoked","bg-yellow-100 text-yellow-800":!s.license.is_active&&!s.license.is_expired&&s.license.status!=="revoked"})},t(s.license.status.charAt(0).toUpperCase()+s.license.status.slice(1)),3),e("div",V,[s.license.status!=="active"?(a(),l("button",{key:0,onClick:o[0]||(o[0]=m=>n.updateStatus("active")),class:"px-3 py-1 bg-green-600 text-white rounded-md hover:bg-green-700 text-sm"},t(i.$t("Activate")),1)):c("v-if",!0),s.license.status!=="revoked"?(a(),l("button",{key:1,onClick:o[1]||(o[1]=m=>n.updateStatus("revoked")),class:"px-3 py-1 bg-red-600 text-white rounded-md hover:bg-red-700 text-sm"},t(i.$t("Revoke")),1)):c("v-if",!0)])])]),e("div",E,[e("div",null,[e("p",O,t(i.$t("License Key")),1),e("p",M,t(s.license.license_key),1)]),e("div",null,[e("p",G,t(i.$t("Payment ID")),1),e("p",J,t(s.license.payment_id||"N/A"),1)]),e("div",null,[e("p",z,t(i.$t("License Type")),1),e("p",K,t(s.license.type==="annual"?i.$t("Annual License"):i.$t("Monthly License")),1)]),e("div",null,[e("p",R,t(i.$t("Amount Paid")),1),e("p",q,t(s.license.currency)+" "+t(s.license.amount.toFixed(2)),1),s.license.discount_applied?(a(),l("p",H,t(i.$t("Discount Applied"))+": "+t(s.license.currency)+" "+t(s.license.discount_amount.toFixed(2)),1)):c("v-if",!0)]),e("div",null,[e("p",Q,t(i.$t("Issue Date")),1),e("p",W,t(n.formatDate(s.license.issued_at)),1)]),e("div",null,[e("p",X,t(i.$t("Expiry Date")),1),e("p",Y,t(n.formatDate(s.license.expires_at)),1),s.license.days_remaining!==null?(a(),l("p",{key:0,class:f(["text-sm",{"text-green-600":s.license.days_remaining>30,"text-yellow-600":s.license.days_remaining<=30&&s.license.days_remaining>0,"text-red-600":s.license.days_remaining<=0}])},t(s.license.days_remaining>0?`${s.license.days_remaining} ${i.$t("days remaining")}`:i.$t("Expired")),3)):c("v-if",!0)]),e("div",null,[e("p",Z,t(i.$t("Created At")),1),e("p",$,t(n.formatDateTime(s.license.created_at)),1)]),e("div",null,[e("p",ee,t(i.$t("Last Updated")),1),e("p",te,t(n.formatDateTime(s.license.updated_at)),1)])]),e("div",se,[e("h4",ie,t(i.$t("User Information")),1),e("div",ne,[e("div",null,[e("p",ae,t(i.$t("Name")),1),e("p",oe,t(((u=s.license.user)==null?void 0:u.name)||"N/A"),1)]),e("div",null,[e("p",de,t(i.$t("Email")),1),e("p",le,t(((d=s.license.user)==null?void 0:d.email)||"N/A"),1)]),e("div",null,[e("p",re,t(i.$t("User ID")),1),e("p",ce,t(s.license.user_id),1)]),e("div",null,[e("p",me,t(i.$t("User Since")),1),e("p",ue,t((r=s.license.user)!=null&&r.created_at?n.formatDate(s.license.user.created_at):"N/A"),1)])]),e("div",_e,[g(n.Link,{href:i.route("admin.users.show",s.license.user_id),class:"text-blue-600 hover:text-blue-800"},{default:_(()=>[h(t(i.$t("View User Profile")),1)]),_:1},8,["href"])])]),s.license.metadata?(a(),l("div",ge,[e("h4",he,t(i.$t("Additional Metadata")),1),e("pre",fe,t(JSON.stringify(s.license.metadata,null,2)),1)])):c("v-if",!0)])]),c(" Activity Log "),e("div",ye,[e("div",ve,[e("h3",xe,t(i.$t("Activity Log")),1),s.activities.length===0?(a(),l("div",be,t(i.$t("No activities recorded for this license.")),1)):(a(),l("div",we,[(a(!0),l(k,null,p(s.activities,(m,b)=>(a(),l("div",{key:b,class:"border-l-2 border-gray-200 pl-4 py-2"},[e("div",ke,[o[3]||(o[3]=e("div",{class:"flex-shrink-0 h-4 w-4 rounded-full bg-blue-500 mt-1"},null,-1)),e("div",pe,[e("p",De,t(m.description),1),e("p",Ae,t(n.formatDateTime(m.created_at)),1),m.properties?(a(),l("div",Le,[e("pre",Ne,t(JSON.stringify(m.properties,null,2)),1)])):c("v-if",!0)])])]))),128))]))])])])])]}),_:1})}const je=L(N,[["render",Se],["__file","/var/www/html/resources/js/Pages/Admin/Licenses/Show.vue"]]);export{je as default};
