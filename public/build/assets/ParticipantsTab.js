import{k as n,o as i,f as e,y as v,i as x,t as u,q as f,v as M,z as $,F as V,l as B,g as ee,w as te,j as T,G as N,N as U,m as c,p as A,I as q,R as G,a as y,S as oe,W as C}from"./vendor.js";import{_ as se}from"./_plugin-vue_export-helper.js";const re={__name:"ParticipantsTab",props:{projectId:String},setup(I,{expose:t}){t();const z=U(),o=I,h=c([]),_=c(""),k=c(!1),p=c([]),s=c(!1),w=c(!1),E=c(null),b=c({template_id:"",subject:"",body:""}),m=c({template_id:"",subject:"",body:""}),g=c(!1),d=c("");async function P(){var l,a;g.value=!0,d.value="";try{console.log("Fetching participants for project:",o.projectId);const{data:r}=await y.get(`/dashboard/projects/${o.projectId}/participants`);h.value=r.data||[],console.log("Participants fetched:",h.value)}catch(r){console.error("Fetch error:",r.response?r.response.data:r),d.value="Failed to load participants: "+(((a=(l=r.response)==null?void 0:l.data)==null?void 0:a.error)||r.message)}finally{g.value=!1}}async function S(){var l,a;try{const{data:r}=await y.get("/dashboard/email-templates",{params:{project_id:o.projectId}});p.value=r.data}catch(r){d.value="Failed to load email templates: "+(((a=(l=r.response)==null?void 0:l.data)==null?void 0:a.error)||r.message)}}function D(){console.log("Navigating to:",`/dashboard/projects/${o.projectId}/participants/create`),o.projectId?C.visit(`/dashboard/projects/${o.projectId}/participants/create`,{onError:l=>{console.error("Navigation failed:",l),alert("Failed to navigate to add page. Check console for details.")},onSuccess:()=>{console.log("Navigation successful")}}):(console.error("projectId is undefined"),alert("Project ID is missing. Please reload the page."))}function H(l){C.visit(`/projects/${o.projectId}/participants/${l.id}`)}function R(l){C.visit(`/projects/${o.projectId}/participants/${l.id}/donate`)}function O(l){E.value=l;const a=p.value.find(r=>r.type==="participant");b.value={template_id:(a==null?void 0:a.id)||"",subject:(a==null?void 0:a.subject)||"",body:(a==null?void 0:a.body)||""},s.value=!0}async function W(){var l,a;m.value={template_id:"",subject:"",body:""},g.value=!0,d.value="";try{if(await S(),p.value.length===0){d.value="No email templates found for this project. Please create at least one template.";return}const r=p.value.find(F=>F.type==="mass_participant")||p.value[0];r&&(m.value={template_id:r.id||"",subject:r.subject||"",body:r.body||""}),w.value=!0}catch(r){d.value="Failed to load email templates: "+(((a=(l=r.response)==null?void 0:l.data)==null?void 0:a.error)||r.message),console.error("Error loading templates:",r)}finally{g.value=!1}}function J(){if(b.value.template_id)try{const l=p.value.find(a=>a.id===b.value.template_id);l&&(b.value.subject=l.subject||"",b.value.body=l.body||"")}catch(l){console.error("Error loading template:",l)}}function K(){if(m.value.template_id)try{const l=p.value.find(a=>a.id===m.value.template_id);l&&(m.value.subject=l.subject||"",m.value.body=l.body||"")}catch(l){console.error("Error loading template:",l)}}async function Q(){var l,a;if(!b.value.template_id){d.value="Please select an email template.";return}g.value=!0,d.value="";try{const r=await y.post(route("dashboard.participants.sendEmail",E.value.id),{template_id:b.value.template_id,subject:b.value.subject,body:b.value.body,project_id:o.projectId});s.value=!1,alert("Email sent successfully!")}catch(r){d.value="Failed to send email: "+(((a=(l=r.response)==null?void 0:l.data)==null?void 0:a.error)||r.message),console.error("Error sending email:",r)}finally{g.value=!1}}async function X(){var l,a;if(!m.value.template_id){d.value="Please select an email template.";return}g.value=!0,d.value="";try{const r=await y.post(route("project.participants.massEmail",o.projectId),{template_id:m.value.template_id,subject:m.value.subject,body:m.value.body});w.value=!1,r.data.results?alert(`Mass email sent successfully! ${r.data.results.success} sent, ${r.data.results.failed} failed, ${r.data.results.skipped} skipped.`):alert("Mass email sent successfully!")}catch(r){d.value="Failed to send mass email: "+(((a=(l=r.response)==null?void 0:l.data)==null?void 0:a.error)||r.message),console.error("Error sending mass email:",r)}finally{g.value=!1}}async function Y(){var l,a;g.value=!0,d.value="";try{const{data:r}=await y.get(`/dashboard/projects/${o.projectId}/participants/export`,{responseType:"blob"}),F=window.URL.createObjectURL(new Blob([r])),j=document.createElement("a");j.href=F,j.setAttribute("download",`participants_${o.projectId}.csv`),document.body.appendChild(j),j.click(),document.body.removeChild(j)}catch(r){d.value="Failed to export participants: "+(((a=(l=r.response)==null?void 0:l.data)==null?void 0:a.error)||r.message)}finally{g.value=!1}}const Z=A(()=>{let l=h.value;if(_.value){const a=_.value.toLowerCase();l=l.filter(r=>`${r.first_name} ${r.last_name}`.toLowerCase().includes(a)||r.email.toLowerCase().includes(a))}return k.value||(l=l.filter(a=>a.member_groups.length>0)),l});q(()=>{P(),S()}),G(()=>o.projectId,()=>{P()});const L={page:z,props:o,participants:h,search:_,allGroups:k,emailTemplates:p,showEmailModal:s,showMassEmailModal:w,selectedParticipant:E,emailForm:b,massEmailForm:m,loading:g,error:d,fetchParticipants:P,fetchEmailTemplates:S,navigateToAddPage:D,viewLandingPage:H,viewDonationPage:R,openSendEmailModal:O,openMassEmailModal:W,handleTemplateChange:J,handleMassTemplateChange:K,sendEmail:Q,sendMassEmail:X,exportParticipants:Y,filteredParticipants:Z,ref:c,computed:A,onMounted:q,watch:G,get usePage(){return U},get router(){return C},get Link(){return oe},get axios(){return y}};return Object.defineProperty(L,"__isScriptSetup",{enumerable:!1,value:!0}),L}},le={class:"flex flex-col md:flex-row justify-between items-start md:items-center mb-6 gap-4"},ae={class:"text-2xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-purple-600 to-blue-600 flex items-center"},ne={class:"ml-2 text-gray-700 text-lg font-normal"},ie={class:"flex flex-col md:flex-row gap-6 mb-6"},de={class:"bg-white shadow-sm rounded-xl p-5 w-full md:w-1/3 border border-gray-100"},ue={class:"mb-4"},ce={class:"relative"},pe={class:"flex items-center mb-2"},me={class:"flex-1 overflow-x-auto bg-white shadow-sm rounded-xl border border-gray-100"},ge={class:"min-w-full divide-y divide-gray-100"},be={class:"bg-white divide-y divide-gray-100"},ve={class:"px-6 py-5 whitespace-nowrap"},fe={class:"text-sm text-gray-500 mt-1"},xe={key:0,class:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800 mt-1"},we={class:"px-6 py-5 whitespace-nowrap font-medium"},ye={class:"px-6 py-5 whitespace-nowrap font-medium"},he={class:"px-6 py-5 whitespace-nowrap"},ke={class:"px-6 py-5 whitespace-nowrap"},je={class:"flex gap-3"},Me=["onClick"],_e=["onClick"],Ce=["onClick"],Ee={key:0},Pe={key:0,class:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 backdrop-blur-sm"},Se={class:"bg-white rounded-xl shadow-lg p-6 w-full max-w-lg border border-gray-100"},Fe={class:"flex justify-between items-center mb-5"},Ve={class:"relative"},Be=["value"],Ie={class:"flex gap-3 justify-end pt-2"},ze=["disabled"],Le={key:0},Te={key:1,class:"flex items-center"},Ne={key:0,class:"mt-4 p-3 bg-red-50 text-red-700 rounded-lg flex items-start"},Ue={key:1,class:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 backdrop-blur-sm"},Ae={class:"bg-white rounded-xl shadow-lg p-6 w-full max-w-lg border border-gray-100"},qe={class:"flex justify-between items-center mb-5"},Ge={class:"text-xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-purple-600 to-blue-600"},De={class:"relative"},He=["value"],Re={class:"flex gap-3 justify-end pt-2"},Oe=["disabled"],We={key:0},Je={key:1,class:"flex items-center"},Ke={key:0,class:"mt-4 p-3 bg-red-50 text-red-700 rounded-lg flex items-start"};function Qe(I,t,z,o,h,_){var k,p;return i(),n("div",null,[e("div",le,[e("h2",ae,[t[12]||(t[12]=x(" Participants ")),e("span",ne,"("+u(o.participants.length)+" total)",1)]),e("div",{class:"flex flex-wrap gap-3"},[e("button",{onClick:o.openMassEmailModal,class:"px-4 py-2 bg-white border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors duration-200 flex items-center shadow-sm",title:"Mass Email"},t[13]||(t[13]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})],-1),x(" Mass Email ")])),e("button",{onClick:o.exportParticipants,class:"px-4 py-2 bg-white border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors duration-200 flex items-center shadow-sm",title:"Export"},t[14]||(t[14]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 mr-2 text-purple-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})],-1),x(" Export ")])),e("button",{onClick:o.navigateToAddPage,class:"px-4 py-2 bg-gradient-to-r from-purple-600 to-blue-600 rounded-lg text-white hover:from-purple-700 hover:to-blue-700 transition-colors duration-200 flex items-center shadow-sm"},t[15]||(t[15]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})],-1),x(" Add Participant ")]))])]),t[42]||(t[42]=e("p",{class:"text-gray-600 mb-6 max-w-3xl"}," Members must be participants in a campaign to be able to collect donations. They can be added to the campaign individually or in groups. ",-1)),e("div",ie,[e("div",de,[t[19]||(t[19]=e("div",{class:"flex items-center mb-4"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 mr-2 text-blue-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"})]),e("h3",{class:"font-semibold text-gray-800 text-lg"},"Filter Participants")],-1)),e("div",ue,[t[17]||(t[17]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Search by name or email",-1)),e("div",ce,[t[16]||(t[16]=e("div",{class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})])],-1)),f(e("input",{"onUpdate:modelValue":t[0]||(t[0]=s=>o.search=s),type:"text",class:"w-full pl-10 p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",placeholder:"Search participants"},null,512),[[M,o.search]])])]),e("div",pe,[f(e("input",{type:"checkbox","onUpdate:modelValue":t[1]||(t[1]=s=>o.allGroups=s),id:"allGroups",class:"h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"},null,512),[[$,o.allGroups]]),t[18]||(t[18]=e("label",{for:"allGroups",class:"ml-2 text-sm text-gray-700"},"Show all groups",-1))])]),e("div",me,[e("table",ge,[t[24]||(t[24]=e("thead",null,[e("tr",{class:"bg-gray-50"},[e("th",{class:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider"},"Participant"),e("th",{class:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider"},"Supporters"),e("th",{class:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider"},"Revenue"),e("th",{class:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider"},"Emails"),e("th",{class:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider"},"Actions")])],-1)),e("tbody",be,[(i(!0),n(V,null,B(o.filteredParticipants,s=>(i(),n("tr",{key:s.id,class:"hover:bg-gray-50 transition-colors duration-150"},[e("td",ve,[ee(o.Link,{href:`/dashboard/members/${s.id}/edit`,class:"text-blue-600 font-medium hover:text-blue-800 transition-colors duration-200"},{default:te(()=>[x(u(s.first_name)+" "+u(s.last_name),1)]),_:2},1032,["href"]),e("p",fe,u(s.email),1),s.landing_page_opened?(i(),n("span",xe,"Landing page opened")):v("v-if",!0)]),e("td",we,u(s.supporters),1),e("td",ye,"€ "+u(s.sales_volume),1),e("td",he,u(s.emails),1),e("td",ke,[e("div",je,[e("button",{onClick:w=>o.viewLandingPage(s),class:"text-blue-600 hover:text-blue-800 transition-colors duration-200 p-1.5 rounded-md hover:bg-blue-50",title:"View landing page"},[...t[20]||(t[20]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})],-1)])],8,Me),e("button",{onClick:w=>o.viewDonationPage(s),class:"text-purple-600 hover:text-purple-800 transition-colors duration-200 p-1.5 rounded-md hover:bg-purple-50",title:"View donation page"},[...t[21]||(t[21]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8c-1.657 0-3 1.343-3 3v2h6v-2c0-1.657-1.343-3-3-3zm0-4a7 7 0 00-7 7v2h2v-2a5 5 0 0110 0v2h2v-2a7 7 0 00-7-7z"})],-1)])],8,_e),e("button",{onClick:w=>o.openSendEmailModal(s),class:"text-emerald-600 hover:text-emerald-800 transition-colors duration-200 p-1.5 rounded-md hover:bg-emerald-50",title:"Send email"},[...t[22]||(t[22]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})],-1)])],8,Ce)])])]))),128)),o.filteredParticipants.length===0?(i(),n("tr",Ee,t[23]||(t[23]=[e("td",{colspan:"5",class:"px-6 py-4 text-center text-gray-400"},"No entries found 🥺",-1)]))):v("v-if",!0)])])])]),v(" Mass Email Modal "),o.showMassEmailModal?(i(),n("div",Pe,[e("div",Se,[e("div",Fe,[t[26]||(t[26]=e("h2",{class:"text-xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-purple-600 to-blue-600"},"Send Mass Email",-1)),e("button",{onClick:t[2]||(t[2]=s=>o.showMassEmailModal=!1),class:"text-gray-400 hover:text-gray-600 transition-colors duration-200",type:"button"},t[25]||(t[25]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))]),e("form",{onSubmit:T(o.sendMassEmail,["prevent"]),class:"space-y-5"},[e("div",null,[t[29]||(t[29]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Select Email Template",-1)),e("div",Ve,[f(e("select",{"onUpdate:modelValue":t[3]||(t[3]=s=>o.massEmailForm.template_id=s),onChange:o.handleMassTemplateChange,class:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 appearance-none pr-10",required:""},[t[27]||(t[27]=e("option",{value:"",disabled:""},"Select a template",-1)),(i(!0),n(V,null,B(o.emailTemplates,s=>(i(),n("option",{key:s.id,value:s.id},u(s.name)+" ("+u(s.type)+") ",9,Be))),128))],544),[[N,o.massEmailForm.template_id]]),t[28]||(t[28]=e("div",{class:"absolute inset-y-0 right-0 flex items-center px-2 pointer-events-none"},[e("svg",{class:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"})])],-1))])]),e("div",null,[t[30]||(t[30]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Subject",-1)),f(e("input",{"onUpdate:modelValue":t[4]||(t[4]=s=>o.massEmailForm.subject=s),type:"text",class:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",required:""},null,512),[[M,o.massEmailForm.subject]])]),e("div",null,[t[31]||(t[31]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Message",-1)),f(e("textarea",{"onUpdate:modelValue":t[5]||(t[5]=s=>o.massEmailForm.body=s),class:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",rows:"5",required:""},null,512),[[M,o.massEmailForm.body]])]),e("div",Ie,[e("button",{type:"button",onClick:t[6]||(t[6]=s=>o.showMassEmailModal=!1),class:"px-4 py-2 bg-white border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors duration-200 shadow-sm"}," Cancel "),e("button",{type:"submit",class:"px-4 py-2 bg-gradient-to-r from-purple-600 to-blue-600 rounded-lg text-white hover:from-purple-700 hover:to-blue-700 transition-colors duration-200 shadow-sm",disabled:o.loading},[o.loading?(i(),n("span",Te,t[32]||(t[32]=[e("svg",{class:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),x(" Sending... ")]))):(i(),n("span",Le,"Send Emails"))],8,ze)])],32),o.error?(i(),n("div",Ne,[t[33]||(t[33]=e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 mr-2 mt-0.5 flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),e("span",null,u(o.error),1)])):v("v-if",!0)])])):v("v-if",!0),v(" Send Email Modal "),o.showEmailModal?(i(),n("div",Ue,[e("div",Ae,[e("div",qe,[e("h2",Ge," Email to "+u((k=o.selectedParticipant)==null?void 0:k.first_name)+" "+u((p=o.selectedParticipant)==null?void 0:p.last_name),1),e("button",{onClick:t[7]||(t[7]=s=>o.showEmailModal=!1),class:"text-gray-400 hover:text-gray-600 transition-colors duration-200",type:"button"},t[34]||(t[34]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))]),e("form",{onSubmit:T(o.sendEmail,["prevent"]),class:"space-y-5"},[e("div",null,[t[37]||(t[37]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Select Email Template",-1)),e("div",De,[f(e("select",{"onUpdate:modelValue":t[8]||(t[8]=s=>o.emailForm.template_id=s),onChange:o.handleTemplateChange,class:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 appearance-none pr-10",required:""},[t[35]||(t[35]=e("option",{value:"",disabled:""},"Select a template",-1)),(i(!0),n(V,null,B(o.emailTemplates,s=>(i(),n("option",{key:s.id,value:s.id},u(s.name)+" ("+u(s.type)+") ",9,He))),128))],544),[[N,o.emailForm.template_id]]),t[36]||(t[36]=e("div",{class:"absolute inset-y-0 right-0 flex items-center px-2 pointer-events-none"},[e("svg",{class:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"})])],-1))])]),e("div",null,[t[38]||(t[38]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Subject",-1)),f(e("input",{"onUpdate:modelValue":t[9]||(t[9]=s=>o.emailForm.subject=s),type:"text",class:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",required:""},null,512),[[M,o.emailForm.subject]])]),e("div",null,[t[39]||(t[39]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Message",-1)),f(e("textarea",{"onUpdate:modelValue":t[10]||(t[10]=s=>o.emailForm.body=s),class:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",rows:"5",required:""},null,512),[[M,o.emailForm.body]])]),e("div",Re,[e("button",{type:"button",onClick:t[11]||(t[11]=s=>o.showEmailModal=!1),class:"px-4 py-2 bg-white border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors duration-200 shadow-sm"}," Cancel "),e("button",{type:"submit",class:"px-4 py-2 bg-gradient-to-r from-purple-600 to-blue-600 rounded-lg text-white hover:from-purple-700 hover:to-blue-700 transition-colors duration-200 shadow-sm",disabled:o.loading},[o.loading?(i(),n("span",Je,t[40]||(t[40]=[e("svg",{class:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),x(" Sending... ")]))):(i(),n("span",We,"Send Email"))],8,Oe)])],32),o.error?(i(),n("div",Ke,[t[41]||(t[41]=e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 mr-2 mt-0.5 flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),e("span",null,u(o.error),1)])):v("v-if",!0)])])):v("v-if",!0)])}const Ze=se(re,[["render",Qe],["__scopeId","data-v-00fcfa6d"],["__file","/var/www/html/resources/js/Pages/Projects/ParticipantsTab.vue"]]);export{Ze as default};
