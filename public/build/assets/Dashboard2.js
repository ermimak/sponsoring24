import{f as M,o,w as d,g as t,l as a,t as n,y as p,i as g,u as i,S as f,j as c,F as _,m as k,q as D,n as v}from"./vendor.js";import{r as w}from"./app.js";import{A as N}from"./AppDashboardLayout.js";import{_ as V}from"./NotificationDropdown.js";/* empty css    */import"./SidebarLink.js";import"./SuccessMessage.js";import"./_plugin-vue_export-helper.js";const B={class:"mb-8"},A={class:"grid grid-cols-1 md:grid-cols-3 gap-6"},L={class:"bg-white rounded-xl shadow-sm p-6 border border-gray-100"},z={class:"mt-4"},H={class:"text-3xl font-bold"},R={key:0,class:"text-green-500 text-sm ml-2"},F={key:1,class:"text-yellow-500 text-sm ml-2"},P={class:"bg-white rounded-xl shadow-sm p-6 border border-gray-100"},S={class:"mt-4"},$={class:"text-3xl font-bold"},I={key:0,class:"text-green-500 text-sm ml-2"},U={class:"bg-white rounded-xl shadow-sm p-6 border border-gray-100"},E={class:"mt-4"},T={class:"text-3xl font-bold"},q={class:"text-green-500 text-sm ml-2"},G={key:0,class:"text-yellow-500 text-sm ml-2"},O={class:"grid grid-cols-1 lg:grid-cols-3 gap-6"},Y={class:"lg:col-span-2"},J={class:"bg-white rounded-xl shadow-sm overflow-hidden border border-gray-100"},K={class:"px-6 py-4 border-b border-gray-100 flex justify-between items-center"},Q={class:"p-6"},W={key:0,class:"text-center py-8 text-gray-500"},X={key:1,class:"space-y-4"},Z={key:1,class:"w-12 h-12 rounded-lg bg-gradient-to-br from-purple-500 to-blue-500 flex items-center justify-center text-white font-bold mr-4"},tt={class:"flex-1"},et={class:"font-medium"},st={class:"text-sm text-gray-500"},rt={class:"text-right"},ot={class:"text-sm text-gray-500 mt-1"},at={class:"lg:col-span-1"},nt={class:"bg-white rounded-xl shadow-sm overflow-hidden border border-gray-100 h-full"},lt={class:"px-6 py-4 border-b border-gray-100 flex justify-between items-center"},it={class:"relative"},dt={class:"p-6"},ct={key:0,class:"text-center py-8 text-gray-500"},ut={key:1,class:"space-y-4"},mt={class:"flex justify-between items-start"},gt={class:"flex-1"},ht={class:"text-xs text-gray-500 mt-1"},xt={class:"text-xs text-gray-400 mt-1"},pt={key:0,class:"text-center pt-2"},Ct={__name:"Dashboard",props:{notifications:{type:Array,default:()=>[]},unreadNotificationsCount:{type:Number,default:0},stats:{type:Object,default:()=>({activeLicense:null,projectsCount:0,totalDonations:0,referrals:{totalReferrals:0,creditedReferrals:0,pendingReferrals:0,totalEarned:0},newUsersCount:0,newUsersGrowth:0})},recentProjects:{type:Array,default:()=>[]}},setup(j){const r=j,h=(l,e="CHF")=>new Intl.NumberFormat("de-CH",{style:"currency",currency:e,minimumFractionDigits:0,maximumFractionDigits:0}).format(l),b=l=>{const e=new Date(l),y=Math.floor((new Date-e)/1e3);if(y<60)return"just now";const u=Math.floor(y/60);if(u<60)return`${u} ${u===1?"minute":"minutes"} ago`;const m=Math.floor(u/60);if(m<24)return`${m} ${m===1?"hour":"hours"} ago`;const x=Math.floor(m/24);return x<30?`${x} ${x===1?"day":"days"} ago`:e.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})},C=l=>{switch(l){case"active":return"bg-green-100 text-green-800";case"pending":return"bg-yellow-100 text-yellow-800";case"completed":return"bg-blue-100 text-blue-800";case"rejected":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return(l,e)=>(o(),M(N,{title:"Dashboard"},{header:d(()=>e[0]||(e[0]=[t("div",{class:"flex justify-between items-center mb-6"},[t("h1",{class:"text-3xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-purple-600 to-blue-600"}," Dashboard "),t("div",{class:"flex space-x-3"},[t("button",{class:"px-4 py-2 bg-white shadow-sm rounded-lg text-gray-700 hover:bg-gray-50 transition-colors duration-200 flex items-center"},[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 mr-2 text-purple-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"})]),c(" Filter ")]),t("button",{class:"px-4 py-2 bg-gradient-to-r from-purple-600 to-blue-600 shadow-sm rounded-lg text-white hover:from-purple-700 hover:to-blue-700 transition-colors duration-200 flex items-center"},[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})]),c(" New Campaign ")])])],-1)])),default:d(()=>[t("div",B,[t("div",A,[t("div",L,[e[1]||(e[1]=t("div",{class:"flex items-center justify-between"},[t("h3",{class:"text-gray-500 text-sm font-medium"},"Projects"),t("div",{class:"bg-purple-100 rounded-full p-2"},[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 text-purple-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})])])],-1)),t("div",z,[t("span",H,n(r.stats.projectsCount),1),r.stats.activeLicense?(o(),a("span",R,"License Active")):(o(),a("span",F,"No Active License"))])]),t("div",P,[e[2]||(e[2]=t("div",{class:"flex items-center justify-between"},[t("h3",{class:"text-gray-500 text-sm font-medium"},"Total Donations"),t("div",{class:"bg-blue-100 rounded-full p-2"},[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 text-blue-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})])])],-1)),t("div",S,[t("span",$,n(h(r.stats.totalDonations)),1),r.recentProjects.length>0?(o(),a("span",I,n(r.recentProjects.length)+" active projects",1)):p("",!0)])]),t("div",U,[e[3]||(e[3]=t("div",{class:"flex items-center justify-between"},[t("h3",{class:"text-gray-500 text-sm font-medium"},"Referral Earnings"),t("div",{class:"bg-emerald-100 rounded-full p-2"},[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 text-emerald-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})])])],-1)),t("div",E,[t("span",T,n(h(r.stats.referrals.totalEarned)),1),t("span",q,n(r.stats.referrals.creditedReferrals)+" credited",1),r.stats.referrals.pendingReferrals>0?(o(),a("span",G,n(r.stats.referrals.pendingReferrals)+" pending",1)):p("",!0)])])])]),t("div",O,[t("div",Y,[t("div",J,[t("div",K,[e[5]||(e[5]=t("h2",{class:"font-semibold text-lg text-gray-800"},"Recent Projects",-1)),g(i(f),{href:i(w)("dashboard.projects"),class:"text-sm text-blue-600 hover:text-blue-800"},{default:d(()=>e[4]||(e[4]=[c("View All")])),_:1},8,["href"])]),t("div",Q,[r.recentProjects.length===0?(o(),a("div",W,[e[7]||(e[7]=t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-12 w-12 mx-auto text-gray-400 mb-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})],-1)),e[8]||(e[8]=t("p",null,"No projects yet",-1)),g(i(f),{href:i(w)("dashboard.projects.create"),class:"mt-3 inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700"},{default:d(()=>e[6]||(e[6]=[c(" Create Your First Project ")])),_:1},8,["href"])])):(o(),a("div",X,[(o(!0),a(_,null,k(r.recentProjects,s=>(o(),a("div",{key:s.id,class:"flex items-center p-4 rounded-lg hover:bg-gray-50 transition-colors duration-150"},[s.image?(o(),a("div",{key:0,class:"w-12 h-12 rounded-lg bg-cover bg-center mr-4",style:D({backgroundImage:`url(${s.image})`})},null,4)):(o(),a("div",Z,n(s.name.substring(0,2).toUpperCase()),1)),t("div",tt,[t("h3",et,n(s.name),1),t("p",st,"Last updated "+n(b(s.updated_at)),1)]),t("div",rt,[t("span",{class:v(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",C(s.status)])},n(s.status.charAt(0).toUpperCase()+s.status.slice(1)),3),t("p",ot,n(h(s.total_raised)),1)])]))),128))]))])])]),t("div",at,[t("div",nt,[t("div",lt,[e[9]||(e[9]=t("h2",{class:"font-semibold text-lg text-gray-800"},"Notifications",-1)),t("div",it,[g(V,{notifications:r.notifications},null,8,["notifications"])])]),t("div",dt,[r.notifications.length===0?(o(),a("div",ct,e[10]||(e[10]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-12 w-12 mx-auto text-gray-400 mb-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})],-1),t("p",null,"No notifications yet",-1)]))):(o(),a("div",ut,[(o(!0),a(_,null,k(r.notifications.slice(0,3),s=>(o(),a("div",{key:s.id,class:v(["p-3 rounded-lg hover:bg-gray-50 transition-colors duration-150",{"bg-blue-50":!s.read_at}])},[t("div",mt,[t("div",gt,[t("p",{class:v(["text-sm font-medium",s.read_at?"text-gray-700":"text-gray-900"])},n(s.data.title||l.getNotificationTitle(s)),3),t("p",ht,n(s.data.message||l.getNotificationMessage(s)),1),t("p",xt,n(b(s.created_at)),1)])])],2))),128)),r.notifications.length>3?(o(),a("div",pt,[g(i(f),{href:i(w)("dashboard.notifications.index"),class:"text-xs text-blue-600 hover:text-blue-800"},{default:d(()=>[c(" View all "+n(r.notifications.length)+" notifications ",1)]),_:1},8,["href"])])):p("",!0)]))])])])])]),_:1}))}};export{Ct as default};
