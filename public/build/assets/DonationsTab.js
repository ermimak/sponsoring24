import{O as re,g as v,I as se,R as $,l as p,o as m,f as e,y as b,j as l,k as H,p as w,G as U,v as h,t as u,z as R,F as A,m as F,n as le,u as ae,s as C,a as _}from"./vendor.js";import{_ as ne}from"./_plugin-vue_export-helper.js";const ie={class:"bg-white shadow-md rounded-xl p-6 mb-6 border border-gray-100"},de={class:"bg-white shadow-md rounded-xl p-6 border border-gray-100"},ue={class:"flex flex-col md:flex-row justify-between items-start md:items-center mb-6 gap-4"},pe={class:"text-2xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-purple-600 to-blue-600 flex items-center"},me={class:"ml-2 text-base font-medium text-gray-500 bg-gray-100 px-2 py-0.5 rounded-full"},ce={class:"space-x-3 flex"},ge=["disabled"],ve=["disabled"],we={class:"min-w-full divide-y divide-gray-200 bg-white rounded-xl overflow-hidden border border-gray-100 shadow-sm mb-4"},fe={class:"bg-gradient-to-r from-purple-600 to-blue-600"},xe={class:"px-6 py-3.5 text-left text-xs font-medium text-white uppercase tracking-wider"},be={class:"divide-y divide-gray-200"},he={class:"px-6 py-4 whitespace-nowrap"},ye=["value"],ke={class:"px-6 py-4 whitespace-nowrap font-medium text-gray-900"},je={class:"px-6 py-4 whitespace-nowrap text-gray-700"},Me={class:"px-6 py-4 whitespace-nowrap font-medium text-gray-900"},Ce={class:"px-6 py-4 whitespace-nowrap text-gray-700"},_e={class:"px-6 py-4 whitespace-nowrap"},Ve={class:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium"},Be={class:"flex justify-end space-x-3"},ze=["onClick"],Ee=["href"],Se={key:0},Te={key:0,class:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-40"},Le={class:"bg-white rounded-xl shadow-xl p-6 w-full max-w-lg max-h-[90vh] overflow-y-auto border border-gray-100"},He=["value"],Ue={class:"flex justify-end space-x-4 pt-2"},Ae=["disabled"],Fe={key:1,class:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-40"},De={class:"bg-white rounded-xl shadow-xl p-6 w-full max-w-lg max-h-[90vh] overflow-y-auto border border-gray-100"},Ie={class:"flex justify-between items-center mb-6"},Ne={class:"text-2xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-purple-600 to-blue-600 flex items-center"},Oe=["value"],Pe={class:"flex justify-end space-x-4 pt-2"},qe=["disabled"],$e={key:2,class:"bg-gradient-to-r from-green-50 to-emerald-50 border border-green-200 text-green-800 px-4 py-3 rounded-lg relative mb-4 shadow-sm flex items-center"},Re={key:3,class:"bg-gradient-to-r from-red-50 to-rose-50 border border-red-200 text-red-800 px-4 py-3 rounded-lg relative mb-4 shadow-sm flex items-center"},Ge={key:4,class:"fixed bottom-4 right-4 bg-gradient-to-r from-purple-600 to-blue-600 text-white px-4 py-3 rounded-lg shadow-md flex items-center"},Je={__name:"DonationsTab",props:{project:Object,filters:Object,donations:Array},setup(G){var O,P;const c=G,D=re(),j=v([]),n=v({status:c.filters.status||"",date_from:c.filters.date_from||"",date_to:c.filters.date_to||"",amount_min:c.filters.amount_min||"",amount_max:c.filters.amount_max||""}),g=v([]),y=v(!1),z=v(!1),E=v(!1),M=v(null),f=v([]),x=v(!1),i=v({template_id:"",subject:"",body:""}),d=v({template_id:"",subject:"",body:""}),V=v(!1),a=v({success:((O=D.props.flash)==null?void 0:O.success)||"",error:((P=D.props.flash)==null?void 0:P.error)||"",loading:""}),I=o=>{a.value.success=o,setTimeout(()=>{a.value.success=""},5e3)},k=o=>{a.value.error=o,setTimeout(()=>{a.value.error=""},5e3)},N=o=>{a.value.loading=o,setTimeout(()=>{a.value.loading=""},3e3)},J=(o,t)=>{let s;return(...r)=>{clearTimeout(s),s=setTimeout(()=>o(...r),t)}},S=async()=>{try{console.log("Fetching email templates for project:",c.project.id);const o=await _.get("/dashboard/email-templates",{params:{project_id:c.project.id}});console.log("Email templates response:",o.data),f.value=o.data.data||o.data,console.log("Email templates loaded:",f.value.length)}catch(o){console.error("Error fetching email templates:",o)}},B=J(async()=>{try{const o=await _.get(C("dashboard.project.donations.fetch",c.project.id),{params:{status:n.value.status,date_from:n.value.date_from,date_to:n.value.date_to,amount_min:n.value.amount_min,amount_max:n.value.amount_max}});j.value=o.data.data||o.data.map(t=>({id:t.id,donor_name:t.supporter_email??"Anonymous",amount:t.amount,currency:t.currency,date:t.billing_date?t.billing_date.format("Y-m-d"):null,status:t.status,participant_name:t.participant?(t.participant.first_name??"")+" "+(t.participant.last_name??""):"N/A",participant_id:t.participant_id})),g.value=[],y.value=!1}catch(o){console.error("Failed to fetch donations:",o),j.value=[],g.value=[],y.value=!1}},300);function Y(){y.value?g.value=j.value.map(o=>o.id):g.value=[]}const K=async()=>{if(i.value.template_id)try{const o=f.value.find(t=>t.id===i.value.template_id);o&&(i.value.subject=o.subject||"",i.value.body=o.body||"")}catch(o){console.error("Error loading template:",o)}},Q=async()=>{if(d.value.template_id)try{const o=f.value.find(t=>t.id===d.value.template_id);o&&(d.value.subject=o.subject||"",d.value.body=o.body||"")}catch(o){console.error("Error loading template:",o)}},W=async()=>{if(g.value.length===0){k("Please select at least one donation to send emails");return}i.value={template_id:"",subject:"",body:""},N("Loading email templates..."),await S(),f.value.length===0&&k("No email templates found for this project. Please create at least one template."),z.value=!0},T=()=>{z.value=!1,i.value={template_id:"",subject:"",body:""}},X=async o=>{M.value=o,d.value={template_id:"",subject:"",body:""},N("Loading email templates..."),await S(),f.value.length===0&&k("No email templates found for this project. Please create at least one template."),E.value=!0},L=()=>{E.value=!1,M.value=null,d.value={template_id:"",subject:"",body:""}},Z=async()=>{var o,t;if(!i.value.template_id){k("Please select an email template."),setTimeout(()=>{a.value.error=""},3e3);return}x.value=!0;try{const s=await _.post(C("project.donations.massEmail",c.project.id),{donation_ids:g.value,template_id:i.value.template_id,subject:i.value.subject,body:i.value.body});T(),g.value=[],y.value=!1,I(`Mass email sent successfully. ${s.data.results.success} sent, ${s.data.results.failed} failed, ${s.data.results.skipped} skipped.`),setTimeout(()=>{a.value.success=""},5e3)}catch(s){console.error("Error sending mass email:",s),k(((t=(o=s.response)==null?void 0:o.data)==null?void 0:t.error)||"Failed to send mass email."),setTimeout(()=>{a.value.error=""},5e3)}finally{x.value=!1}},ee=async()=>{var o,t;if(!d.value.template_id||!M.value){k("Please select an email template."),setTimeout(()=>{a.value.error=""},3e3);return}x.value=!0;try{const s=await _.post(C("project.donations.sendEmail",{projectId:c.project.id,donationId:M.value.id}),{template_id:d.value.template_id,subject:d.value.subject,body:d.value.body,project_id:c.project.id});L(),I("Email sent successfully."),setTimeout(()=>{a.value.success=""},3e3)}catch(s){console.error("Error sending email:",s),k(((t=(o=s.response)==null?void 0:o.data)==null?void 0:t.error)||"Failed to send email."),setTimeout(()=>{a.value.error=""},3e3)}finally{x.value=!1}},te=async()=>{if(g.value.length!==0){V.value=!0;try{const o=await _.post(C("project.donations.bulkInvoice",c.project.id),{donation_ids:g.value},{responseType:"blob"}),t=window.URL.createObjectURL(new Blob([o.data],{type:"application/pdf"})),s=document.createElement("a");s.href=t,s.setAttribute("download",`bulk_invoice_${c.project.id}_${new Date().toISOString().slice(0,10)}.pdf`),document.body.appendChild(s),s.click(),document.body.removeChild(s),window.URL.revokeObjectURL(t),g.value=[],y.value=!1,alert("Bulk invoice generated successfully!")}catch(o){console.error("Failed to generate bulk invoice:",o),alert("Failed to generate bulk invoice. Please try again.")}finally{V.value=!1}}};se(()=>{B(),S()}),$(()=>c.project.id,o=>{o&&B()});const oe=()=>{B()};return $(n,(o,t)=>{JSON.stringify(o)!==JSON.stringify(t)&&B()},{deep:!0}),(o,t)=>{var s;return m(),p("div",null,[e("div",ie,[t[20]||(t[20]=e("h2",{class:"text-2xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-purple-600 to-blue-600 flex items-center mb-6"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 mr-2 text-purple-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"})]),l(" Filters ")],-1)),e("form",{onSubmit:H(oe,["prevent"]),class:"grid grid-cols-1 md:grid-cols-3 gap-6"},[e("div",null,[t[14]||(t[14]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1.5 flex items-center"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 mr-1.5 text-purple-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"})]),l(" Status ")],-1)),w(e("select",{"onUpdate:modelValue":t[0]||(t[0]=r=>n.value.status=r),class:"w-full rounded-lg border-gray-300 shadow-sm focus:border-purple-500 focus:ring focus:ring-purple-200 focus:ring-opacity-50 transition-colors duration-200"},t[13]||(t[13]=[e("option",{value:""},"All",-1),e("option",{value:"pending"},"Pending",-1),e("option",{value:"completed"},"Completed",-1)]),512),[[U,n.value.status]])]),e("div",null,[t[15]||(t[15]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1.5 flex items-center"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 mr-1.5 text-purple-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})]),l(" Date From ")],-1)),w(e("input",{"onUpdate:modelValue":t[1]||(t[1]=r=>n.value.date_from=r),type:"date",class:"w-full rounded-lg border-gray-300 shadow-sm focus:border-purple-500 focus:ring focus:ring-purple-200 focus:ring-opacity-50 transition-colors duration-200"},null,512),[[h,n.value.date_from]])]),e("div",null,[t[16]||(t[16]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1.5 flex items-center"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 mr-1.5 text-purple-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})]),l(" Date To ")],-1)),w(e("input",{"onUpdate:modelValue":t[2]||(t[2]=r=>n.value.date_to=r),type:"date",class:"w-full rounded-lg border-gray-300 shadow-sm focus:border-purple-500 focus:ring focus:ring-purple-200 focus:ring-opacity-50 transition-colors duration-200"},null,512),[[h,n.value.date_to]])]),e("div",null,[t[17]||(t[17]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1.5 flex items-center"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 mr-1.5 text-purple-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})]),l(" Amount Min ")],-1)),w(e("input",{"onUpdate:modelValue":t[3]||(t[3]=r=>n.value.amount_min=r),type:"number",step:"0.01",class:"w-full rounded-lg border-gray-300 shadow-sm focus:border-purple-500 focus:ring focus:ring-purple-200 focus:ring-opacity-50 transition-colors duration-200"},null,512),[[h,n.value.amount_min]])]),e("div",null,[t[18]||(t[18]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1.5 flex items-center"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 mr-1.5 text-purple-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})]),l(" Amount Max ")],-1)),w(e("input",{"onUpdate:modelValue":t[4]||(t[4]=r=>n.value.amount_max=r),type:"number",step:"0.01",class:"w-full rounded-lg border-gray-300 shadow-sm focus:border-purple-500 focus:ring focus:ring-purple-200 focus:ring-opacity-50 transition-colors duration-200"},null,512),[[h,n.value.amount_max]])]),t[19]||(t[19]=e("div",{class:"flex items-end"},[e("button",{type:"submit",class:"px-5 py-2.5 bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700 text-white rounded-lg transition-colors duration-200 font-medium shadow-md flex items-center"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 mr-1.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"})]),l(" Apply Filters ")])],-1))],32)]),e("div",de,[e("div",ue,[e("h2",pe,[t[21]||(t[21]=e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-7 w-7 mr-2 text-purple-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 9V7a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2m2 4h10a2 2 0 002-2v-6a2 2 0 00-2-2H9a2 2 0 00-2 2v6a2 2 0 002 2zm7-5a2 2 0 11-4 0 2 2 0 014 0z"})],-1)),t[22]||(t[22]=l(" Donations ")),e("span",me,"("+u(j.value.length)+" entries)",1)]),e("div",ce,[e("button",{onClick:W,disabled:g.value.length===0,class:"px-4 py-2.5 bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700 text-white rounded-lg transition-colors duration-200 font-medium shadow-md flex items-center disabled:opacity-50 disabled:cursor-not-allowed"},t[23]||(t[23]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 mr-1.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})],-1),l(" Mass Email ")]),8,ge),e("button",{onClick:te,disabled:g.value.length===0||V.value,class:"px-4 py-2.5 bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700 text-white rounded-lg transition-colors duration-200 font-medium shadow-md flex items-center disabled:opacity-50 disabled:cursor-not-allowed"},[t[24]||(t[24]=e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 mr-1.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1)),l(" "+u(V.value?"Generating...":"Bulk Invoice"),1)],8,ve)])]),e("table",we,[e("thead",fe,[e("tr",null,[e("th",xe,[w(e("input",{type:"checkbox","onUpdate:modelValue":t[5]||(t[5]=r=>y.value=r),onChange:Y,class:"rounded border-gray-300 text-purple-600 shadow-sm focus:border-purple-300 focus:ring focus:ring-purple-200 focus:ring-opacity-50"},null,544),[[R,y.value]])]),t[25]||(t[25]=e("th",{class:"px-6 py-3.5 text-left text-xs font-medium text-white uppercase tracking-wider"},"Donor",-1)),t[26]||(t[26]=e("th",{class:"px-6 py-3.5 text-left text-xs font-medium text-white uppercase tracking-wider"},"Participant",-1)),t[27]||(t[27]=e("th",{class:"px-6 py-3.5 text-left text-xs font-medium text-white uppercase tracking-wider"},"Amount",-1)),t[28]||(t[28]=e("th",{class:"px-6 py-3.5 text-left text-xs font-medium text-white uppercase tracking-wider"},"Date",-1)),t[29]||(t[29]=e("th",{class:"px-6 py-3.5 text-left text-xs font-medium text-white uppercase tracking-wider"},"Status",-1)),t[30]||(t[30]=e("th",{class:"px-6 py-3.5 text-right text-xs font-medium text-white uppercase tracking-wider"},"Actions",-1))])]),e("tbody",be,[(m(!0),p(A,null,F(j.value,r=>(m(),p("tr",{key:r.id,class:"hover:bg-gray-50 transition-colors duration-150"},[e("td",he,[w(e("input",{type:"checkbox",value:r.id,"onUpdate:modelValue":t[6]||(t[6]=q=>g.value=q),class:"rounded border-gray-300 text-purple-600 shadow-sm focus:border-purple-300 focus:ring focus:ring-purple-200 focus:ring-opacity-50"},null,8,ye),[[R,g.value]])]),e("td",ke,u(r.donor_name),1),e("td",je,u(r.participant_name),1),e("td",Me,u(r.amount)+" "+u(r.currency),1),e("td",Ce,u(r.date),1),e("td",_e,[e("span",{class:le([{"bg-gradient-to-r from-green-100 to-emerald-100 text-green-800 border border-green-200":r.status==="completed","bg-gradient-to-r from-yellow-100 to-amber-100 text-yellow-800 border border-yellow-200":r.status==="pending"},"px-3 py-1 inline-flex text-xs leading-5 font-semibold rounded-full shadow-sm"])},u(r.status),3)]),e("td",Ve,[e("div",Be,[r.donor_email?(m(),p("button",{key:0,onClick:q=>X(r),class:"text-purple-600 hover:text-purple-900 transition-colors duration-150 p-1.5 rounded-full hover:bg-purple-50",title:"Send Email"},t[31]||(t[31]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})],-1)]),8,ze)):b("",!0),r.participant_id?(m(),p("a",{key:1,href:ae(C)("donations.preview",{donation:r.id}),target:"_blank",class:"text-purple-600 hover:text-purple-900 transition-colors duration-150 p-1.5 rounded-full hover:bg-purple-50",title:"View Invoice"},t[32]||(t[32]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1)]),8,Ee)):b("",!0)])])]))),128)),j.value.length===0?(m(),p("tr",Se,t[33]||(t[33]=[e("td",{colspan:"7",class:"px-6 py-8 text-center"},[e("div",{class:"flex flex-col items-center justify-center text-gray-500"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-12 w-12 text-gray-300 mb-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M17 9V7a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2m2 4h10a2 2 0 002-2v-6a2 2 0 00-2-2H9a2 2 0 00-2 2v6a2 2 0 002 2zm7-5a2 2 0 11-4 0 2 2 0 014 0z"})]),e("p",{class:"text-gray-500 text-lg"},"No donations found"),e("p",{class:"text-gray-400 text-sm"},"Try adjusting your filters or check back later")])],-1)]))):b("",!0)])])]),z.value?(m(),p("div",Te,[e("div",Le,[e("div",{class:"flex justify-between items-center mb-6"},[t[35]||(t[35]=e("h2",{class:"text-2xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-purple-600 to-blue-600 flex items-center"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 mr-2 text-purple-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})]),l(" Send Mass Email ")],-1)),e("button",{onClick:T,class:"text-gray-400 hover:text-gray-600 transition-colors duration-150"},t[34]||(t[34]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))]),e("form",{onSubmit:H(Z,["prevent"]),class:"space-y-5"},[e("div",null,[t[37]||(t[37]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1.5 flex items-center"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 mr-1.5 text-purple-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 5a1 1 0 011-1h14a1 1 0 011 1v2a1 1 0 01-1 1H5a1 1 0 01-1-1V5z"})]),l(" Email Template ")],-1)),w(e("select",{"onUpdate:modelValue":t[7]||(t[7]=r=>i.value.template_id=r),class:"w-full rounded-lg border-gray-300 shadow-sm focus:border-purple-500 focus:ring focus:ring-purple-200 focus:ring-opacity-50 transition-colors duration-200",required:"",onChange:K},[t[36]||(t[36]=e("option",{value:""},"Select a template",-1)),(m(!0),p(A,null,F(f.value,r=>(m(),p("option",{key:r.id,value:r.id},u(r.name),9,He))),128))],544),[[U,i.value.template_id]])]),e("div",null,[t[38]||(t[38]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1.5 flex items-center"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 mr-1.5 text-purple-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})]),l(" Subject ")],-1)),w(e("input",{"onUpdate:modelValue":t[8]||(t[8]=r=>i.value.subject=r),type:"text",class:"w-full rounded-lg border-gray-300 shadow-sm focus:border-purple-500 focus:ring focus:ring-purple-200 focus:ring-opacity-50 transition-colors duration-200",required:""},null,512),[[h,i.value.subject]])]),e("div",null,[t[39]||(t[39]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1.5 flex items-center"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 mr-1.5 text-purple-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})]),l(" Message ")],-1)),w(e("textarea",{"onUpdate:modelValue":t[9]||(t[9]=r=>i.value.body=r),class:"w-full rounded-lg border-gray-300 shadow-sm focus:border-purple-500 focus:ring focus:ring-purple-200 focus:ring-opacity-50 transition-colors duration-200",rows:"6",required:""},null,512),[[h,i.value.body]])]),e("div",Ue,[e("button",{onClick:T,type:"button",class:"px-4 py-2.5 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-lg transition-colors duration-200 font-medium shadow-sm border border-gray-200 flex items-center"},t[40]||(t[40]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 mr-1.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1),l(" Cancel ")])),e("button",{type:"submit",disabled:x.value,class:"px-4 py-2.5 bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700 text-white rounded-lg transition-colors duration-200 font-medium shadow-md flex items-center disabled:opacity-50 disabled:cursor-not-allowed"},[t[41]||(t[41]=e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 mr-1.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 19l9 2-9-18-9 18 9-2zm0 0v-8"})],-1)),l(" "+u(x.value?"Sending...":"Send Email"),1)],8,Ae)])],32)])])):b("",!0),E.value?(m(),p("div",Fe,[e("div",De,[e("div",Ie,[e("h2",Ne,[t[42]||(t[42]=e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 mr-2 text-purple-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})],-1)),l(" Email to "+u((s=M.value)==null?void 0:s.donor_name),1)]),e("button",{onClick:L,class:"text-gray-400 hover:text-gray-600 transition-colors duration-150"},t[43]||(t[43]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))]),e("form",{onSubmit:H(ee,["prevent"]),class:"space-y-5"},[e("div",null,[t[45]||(t[45]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1.5 flex items-center"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 mr-1.5 text-purple-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 5a1 1 0 011-1h14a1 1 0 011 1v2a1 1 0 01-1 1H5a1 1 0 01-1-1V5z"})]),l(" Email Template ")],-1)),w(e("select",{"onUpdate:modelValue":t[10]||(t[10]=r=>d.value.template_id=r),class:"w-full rounded-lg border-gray-300 shadow-sm focus:border-purple-500 focus:ring focus:ring-purple-200 focus:ring-opacity-50 transition-colors duration-200",required:"",onChange:Q},[t[44]||(t[44]=e("option",{value:""},"Select a template",-1)),(m(!0),p(A,null,F(f.value,r=>(m(),p("option",{key:r.id,value:r.id},u(r.name),9,Oe))),128))],544),[[U,d.value.template_id]])]),e("div",null,[t[46]||(t[46]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1.5 flex items-center"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 mr-1.5 text-purple-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})]),l(" Subject ")],-1)),w(e("input",{"onUpdate:modelValue":t[11]||(t[11]=r=>d.value.subject=r),type:"text",class:"w-full rounded-lg border-gray-300 shadow-sm focus:border-purple-500 focus:ring focus:ring-purple-200 focus:ring-opacity-50 transition-colors duration-200",required:""},null,512),[[h,d.value.subject]])]),e("div",null,[t[47]||(t[47]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1.5 flex items-center"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 mr-1.5 text-purple-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})]),l(" Message ")],-1)),w(e("textarea",{"onUpdate:modelValue":t[12]||(t[12]=r=>d.value.body=r),class:"w-full rounded-lg border-gray-300 shadow-sm focus:border-purple-500 focus:ring focus:ring-purple-200 focus:ring-opacity-50 transition-colors duration-200",rows:"6",required:""},null,512),[[h,d.value.body]])]),e("div",Pe,[e("button",{onClick:L,type:"button",class:"px-4 py-2.5 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-lg transition-colors duration-200 font-medium shadow-sm border border-gray-200 flex items-center"},t[48]||(t[48]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 mr-1.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1),l(" Cancel ")])),e("button",{type:"submit",disabled:x.value,class:"px-4 py-2.5 bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700 text-white rounded-lg transition-colors duration-200 font-medium shadow-md flex items-center disabled:opacity-50 disabled:cursor-not-allowed"},[t[49]||(t[49]=e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 mr-1.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 19l9 2-9-18-9 18 9-2zm0 0v-8"})],-1)),l(" "+u(x.value?"Sending...":"Send Email"),1)],8,qe)])],32)])])):b("",!0),a.value.success?(m(),p("div",$e,[t[50]||(t[50]=e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 mr-2 text-green-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),e("span",null,u(a.value.success),1)])):b("",!0),a.value.error?(m(),p("div",Re,[t[51]||(t[51]=e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 mr-2 text-red-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),e("span",null,u(a.value.error),1)])):b("",!0),a.value.loading?(m(),p("div",Ge,[t[52]||(t[52]=e("svg",{class:"animate-spin mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1)),e("span",null,u(a.value.loading),1)])):b("",!0)])}}},Qe=ne(Je,[["__scopeId","data-v-312ef86d"]]);export{Qe as default};
