import{O as N,x as H,f as R,o as l,w as O,g as t,l as n,y as f,F as x,m as c,j as m,t as g,k as T,p as i,u as o,G as v,v as b,z as G,n as W,W as I}from"./vendor.js";import{D as $}from"./DashboardLayout.js";import"./SidebarLink.js";import"./NotificationDropdown.js";import"./app.js";/* empty css    */import"./_plugin-vue_export-helper.js";const q={class:"text-transparent bg-clip-text bg-gradient-to-r from-purple-600 to-blue-600 font-bold"},J={key:0},K={key:1},Q={class:"p-6"},X={class:"max-w-2xl mx-auto bg-white shadow-md rounded-xl p-6 border border-gray-100"},Y={class:"text-2xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-purple-600 to-blue-600 flex items-center mb-6"},Z={key:0},_={key:1},tt={key:0,class:"mb-6 p-4 bg-gradient-to-r from-red-50 to-pink-50 text-red-700 rounded-lg flex items-start border border-red-100 shadow-sm"},et={class:"list-disc list-inside text-sm"},st={class:"font-semibold"},rt={key:1,class:"mb-6 p-4 bg-gradient-to-r from-red-50 to-pink-50 text-red-700 rounded-lg flex items-start border border-red-100 shadow-sm"},ot={class:"text-sm"},lt={key:2,class:"mb-6 p-4 bg-gradient-to-r from-green-50 to-emerald-50 text-green-700 rounded-lg flex items-start border border-green-100 shadow-sm"},nt={class:"text-sm"},at={class:"mb-6"},it={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},dt={class:"mb-6"},ut={class:"space-y-4"},pt={class:"pt-2"},mt={class:"flex items-center space-x-3 text-sm font-medium text-gray-700 cursor-pointer"},gt={class:"relative inline-block w-10 mr-2 align-middle select-none"},bt={class:"mb-6"},wt={class:"space-y-4"},ft=["value"],xt=["value"],ct={class:"flex justify-end space-x-4 pt-4"},jt={__name:"UserCreateEdit",props:{roles:Array,permissions:Array,user:Object,errors:Object},setup(u){var k,y,h,C,M,U,j,B,V,z,E,A,L,D;const P=(a,e,s)=>window.route(a,e,s),w=N(),d=u,p={success:((k=w.props.flash)==null?void 0:k.success)||"",error:((y=w.props.flash)==null?void 0:y.error)||""},r=H({user_id:((h=d.user)==null?void 0:h.id)||null,gender:((C=d.user)==null?void 0:C.gender)||"",first_name:((U=(M=d.user)==null?void 0:M.name)==null?void 0:U.split(" ")[0])||"",last_name:((B=(j=d.user)==null?void 0:j.name)==null?void 0:B.split(" ")[1])||"",email:((V=d.user)==null?void 0:V.email)||"",password:"",password_confirmation:"",two_factor:((z=d.user)==null?void 0:z.two_factor_enabled)||!1,roles:((A=(E=d.user)==null?void 0:E.roles)==null?void 0:A.map(a=>a.id))||[],permissions:((D=(L=d.user)==null?void 0:L.permissions)==null?void 0:D.map(a=>a.id))||[]});function S(){r.post(P("dashboard.users.store"),{onSuccess:()=>{var a;r.reset(),p.success=((a=w.props.flash)==null?void 0:a.success)||"",p.error=""},onError:a=>{p.error=""}})}return(a,e)=>(l(),R($,null,{breadcrumbs:O(()=>[t("span",q,[u.user?(l(),n("span",K,"Edit User")):(l(),n("span",J,"Add User"))])]),default:O(()=>[t("div",Q,[t("div",X,[t("h1",Y,[e[10]||(e[10]=t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-7 w-7 mr-2 text-purple-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})],-1)),u.user?(l(),n("span",_,"Edit User Details")):(l(),n("span",Z,"Add New User"))]),u.errors?(l(),n("div",tt,[e[11]||(e[11]=t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 mr-3 mt-0.5 flex-shrink-0 text-red-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),t("ul",et,[(l(!0),n(x,null,c(u.errors,(s,F)=>(l(),n("li",{key:F},[t("span",st,g(F.replace("_"," "))+":",1),m(" "+g(s[0]),1)]))),128))])])):f("",!0),p.error?(l(),n("div",rt,[e[12]||(e[12]=t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 mr-3 mt-0.5 flex-shrink-0 text-red-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),t("span",ot,g(p.error),1)])):f("",!0),p.success?(l(),n("div",lt,[e[13]||(e[13]=t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 mr-3 mt-0.5 flex-shrink-0 text-green-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),t("span",nt,g(p.success),1)])):f("",!0),t("form",{onSubmit:T(S,["prevent"]),class:"space-y-6"},[e[34]||(e[34]=t("div",{class:"border-t border-gray-200 mb-6"},null,-1)),t("div",at,[e[19]||(e[19]=t("h2",{class:"text-lg font-semibold text-transparent bg-clip-text bg-gradient-to-r from-purple-600 to-blue-600 mb-4 flex items-center"},[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 mr-2 text-purple-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})]),m(" Personal Information ")],-1)),t("div",it,[t("div",null,[e[15]||(e[15]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Gender*",-1)),i(t("select",{"onUpdate:modelValue":e[0]||(e[0]=s=>o(r).gender=s),class:"w-full px-4 py-2.5 border border-gray-300 rounded-lg shadow-sm focus:ring-2 focus:ring-purple-500 focus:border-transparent transition duration-200"},e[14]||(e[14]=[t("option",{value:""},"Please select...",-1),t("option",{value:"Male"},"Male",-1),t("option",{value:"Female"},"Female",-1),t("option",{value:"Other"},"Other",-1)]),512),[[v,o(r).gender]])]),t("div",null,[e[16]||(e[16]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"First name*",-1)),i(t("input",{"onUpdate:modelValue":e[1]||(e[1]=s=>o(r).first_name=s),type:"text",class:"w-full px-4 py-2.5 border border-gray-300 rounded-lg shadow-sm focus:ring-2 focus:ring-purple-500 focus:border-transparent transition duration-200",placeholder:"Enter first name"},null,512),[[b,o(r).first_name]])]),t("div",null,[e[17]||(e[17]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Last name*",-1)),i(t("input",{"onUpdate:modelValue":e[2]||(e[2]=s=>o(r).last_name=s),type:"text",class:"w-full px-4 py-2.5 border border-gray-300 rounded-lg shadow-sm focus:ring-2 focus:ring-purple-500 focus:border-transparent transition duration-200",placeholder:"Enter last name"},null,512),[[b,o(r).last_name]])]),t("div",null,[e[18]||(e[18]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"E-mail*",-1)),i(t("input",{"onUpdate:modelValue":e[3]||(e[3]=s=>o(r).email=s),type:"email",class:"w-full px-4 py-2.5 border border-gray-300 rounded-lg shadow-sm focus:ring-2 focus:ring-purple-500 focus:border-transparent transition duration-200",placeholder:"Enter email address"},null,512),[[b,o(r).email]])])])]),t("div",dt,[e[26]||(e[26]=t("h2",{class:"text-lg font-semibold text-transparent bg-clip-text bg-gradient-to-r from-purple-600 to-blue-600 mb-4 flex items-center"},[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 mr-2 text-purple-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})]),m(" Authentication ")],-1)),t("div",ut,[t("div",null,[e[20]||(e[20]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Password*",-1)),i(t("input",{"onUpdate:modelValue":e[4]||(e[4]=s=>o(r).password=s),type:"password",class:"w-full px-4 py-2.5 border border-gray-300 rounded-lg shadow-sm focus:ring-2 focus:ring-purple-500 focus:border-transparent transition duration-200",placeholder:"Enter password"},null,512),[[b,o(r).password]]),e[21]||(e[21]=t("p",{class:"text-xs text-gray-500 mt-1"},"Leave blank if you do not want to change the password.",-1))]),t("div",null,[e[22]||(e[22]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Repeat password*",-1)),i(t("input",{"onUpdate:modelValue":e[5]||(e[5]=s=>o(r).password_confirmation=s),type:"password",class:"w-full px-4 py-2.5 border border-gray-300 rounded-lg shadow-sm focus:ring-2 focus:ring-purple-500 focus:border-transparent transition duration-200",placeholder:"Confirm password"},null,512),[[b,o(r).password_confirmation]])]),t("div",pt,[t("label",mt,[t("div",gt,[i(t("input",{"onUpdate:modelValue":e[6]||(e[6]=s=>o(r).two_factor=s),type:"checkbox",class:"sr-only"},null,512),[[G,o(r).two_factor]]),e[24]||(e[24]=t("div",{class:"w-10 h-5 bg-gray-200 rounded-full shadow-inner"},null,-1)),t("div",{class:W([{"translate-x-5":o(r).two_factor,"translate-x-0":!o(r).two_factor},"absolute block w-5 h-5 mt-0 -ml-0.5 -mt-0.5 rounded-full shadow inset-y-0 left-0 focus-within:shadow-outline transition-transform duration-300 ease-in-out bg-white"])},e[23]||(e[23]=[t("input",{type:"checkbox",class:"absolute opacity-0 w-0 h-0"},null,-1)]),2)]),e[25]||(e[25]=t("span",null,"Two-factor authentication",-1))])])])]),t("div",bt,[e[31]||(e[31]=t("h2",{class:"text-lg font-semibold text-transparent bg-clip-text bg-gradient-to-r from-purple-600 to-blue-600 mb-4 flex items-center"},[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 mr-2 text-purple-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})]),m(" Roles & Permissions ")],-1)),t("div",wt,[t("div",null,[e[27]||(e[27]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Roles",-1)),i(t("select",{"onUpdate:modelValue":e[7]||(e[7]=s=>o(r).roles=s),multiple:"",class:"w-full px-4 py-2.5 border border-gray-300 rounded-lg shadow-sm focus:ring-2 focus:ring-purple-500 focus:border-transparent transition duration-200 min-h-[100px]"},[(l(!0),n(x,null,c(u.roles,s=>(l(),n("option",{key:s.id,value:s.id},g(s.name),9,ft))),128))],512),[[v,o(r).roles]]),e[28]||(e[28]=t("p",{class:"text-xs text-gray-500 mt-1"},"Hold Ctrl (or Cmd) to select multiple roles",-1))]),t("div",null,[e[29]||(e[29]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Permissions",-1)),i(t("select",{"onUpdate:modelValue":e[8]||(e[8]=s=>o(r).permissions=s),multiple:"",class:"w-full px-4 py-2.5 border border-gray-300 rounded-lg shadow-sm focus:ring-2 focus:ring-purple-500 focus:border-transparent transition duration-200 min-h-[100px]"},[(l(!0),n(x,null,c(u.permissions,s=>(l(),n("option",{key:s.id,value:s.id},g(s.name),9,xt))),128))],512),[[v,o(r).permissions]]),e[30]||(e[30]=t("p",{class:"text-xs text-gray-500 mt-1"},"Hold Ctrl (or Cmd) to select multiple permissions",-1))])])]),t("div",ct,[t("button",{type:"button",onClick:e[9]||(e[9]=s=>o(I).get("/dashboard/users")),class:"px-5 py-2.5 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-lg transition-colors duration-200 font-medium shadow-sm border border-gray-200 flex items-center"},e[32]||(e[32]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 mr-1.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1),m(" Cancel ")])),e[33]||(e[33]=t("button",{type:"submit",class:"px-5 py-2.5 bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700 text-white rounded-lg transition-colors duration-200 font-medium shadow-md flex items-center"},[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 mr-1.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})]),m(" Save User ")],-1))])],32)])])]),_:1}))}};export{jt as default};
