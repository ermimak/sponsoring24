import{g as p,x as k,e as w,o,w as u,f as e,i as m,u as l,S as j,j as g,k as P,l as a,F as f,m as _,t as c,n as C}from"./vendor.js";import{_ as F}from"./AdminLayout.js";import{P as N}from"./PrimaryButton.js";import{r as h}from"./app.js";import"./NotificationDropdown.js";import"./_plugin-vue_export-helper.js";/* empty css    */const B={class:"py-12"},S={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},M={class:"mb-6"},q={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},A={class:"p-6 bg-white border-b border-gray-200"},V={class:"mb-6"},$={key:0,class:"text-gray-500 italic"},T={key:1,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"},U={class:"flex items-start"},z={class:"flex-shrink-0 mr-3"},D=["src"],E={key:1,class:"w-16 h-16 bg-gray-200 rounded flex items-center justify-center"},L={class:"flex-grow"},O={class:"font-medium"},R={class:"text-sm text-gray-500 truncate"},G={class:"mt-3 flex justify-end"},H=["onClick"],J={class:"mb-6"},K={key:0,class:"text-gray-500 italic"},Q={key:1,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"},W={class:"flex items-start"},X={class:"flex-shrink-0 mr-3"},Y=["src"],Z={key:1,class:"w-16 h-16 bg-gray-200 rounded flex items-center justify-center"},I={class:"flex-grow"},ee={class:"font-medium"},te={class:"text-sm text-gray-500 truncate"},se={class:"mt-3 flex justify-end"},oe=["onClick","disabled"],ae={class:"mt-6 flex justify-end"},ge={__name:"FeaturedProjects",props:{featuredProjects:Array,availableProjects:Array},setup(r){const i=p(r.featuredProjects.map(d=>d.id)),n=k({featured_project_ids:i.value}),v=d=>{i.value.length<6&&!i.value.includes(d)&&(i.value.push(d),n.featured_project_ids=i.value)},x=d=>{const t=i.value.indexOf(d);t!==-1&&(i.value.splice(t,1),n.featured_project_ids=i.value)},y=()=>{n.post(h("admin.content.featured-projects.update"),{onSuccess:()=>{}})};return(d,t)=>(o(),w(F,{title:"Featured Projects Management"},{default:u(()=>[e("div",B,[e("div",S,[e("div",M,[m(l(j),{href:l(h)("admin.content.index"),class:"text-indigo-600 hover:text-indigo-900 flex items-center"},{default:u(()=>t[0]||(t[0]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})],-1),g(" Back to Content Management ")])),_:1},8,["href"])]),e("div",q,[e("div",A,[t[6]||(t[6]=e("h1",{class:"text-2xl font-semibold text-gray-800 mb-6"},"Featured Projects Management",-1)),t[7]||(t[7]=e("p",{class:"mb-4 text-gray-600"},' Select up to 6 projects to feature on the front page. These projects will be displayed in the "Featured Projects" section. ',-1)),e("form",{onSubmit:P(y,["prevent"])},[e("div",V,[t[2]||(t[2]=e("h2",{class:"text-lg font-medium text-gray-700 mb-2"},"Currently Featured Projects",-1)),r.featuredProjects.length===0?(o(),a("div",$," No projects are currently featured. ")):(o(),a("div",T,[(o(!0),a(f,null,_(r.featuredProjects,s=>(o(),a("div",{key:s.id,class:"border rounded-lg p-4 bg-gray-50"},[e("div",U,[e("div",z,[s.image_square?(o(),a("img",{key:0,src:s.image_square,alt:"Project thumbnail",class:"w-16 h-16 object-cover rounded"},null,8,D)):(o(),a("div",E,t[1]||(t[1]=[e("span",{class:"text-gray-400"},"No image",-1)])))]),e("div",L,[e("h3",O,c(s.title||s.name.de||"Unnamed Project"),1),e("p",R,c(s.description.de||s.short_description.de||"No description available"),1)])]),e("div",G,[e("button",{type:"button",onClick:b=>x(s.id),class:"text-red-600 hover:text-red-800 text-sm"}," Remove from featured ",8,H)])]))),128))]))]),e("div",J,[t[4]||(t[4]=e("h2",{class:"text-lg font-medium text-gray-700 mb-2"},"Available Projects",-1)),r.availableProjects.length===0?(o(),a("div",K," No additional projects available to feature. ")):(o(),a("div",Q,[(o(!0),a(f,null,_(r.availableProjects,s=>(o(),a("div",{key:s.id,class:"border rounded-lg p-4"},[e("div",W,[e("div",X,[s.image_square?(o(),a("img",{key:0,src:s.image_square,alt:"Project thumbnail",class:"w-16 h-16 object-cover rounded"},null,8,Y)):(o(),a("div",Z,t[3]||(t[3]=[e("span",{class:"text-gray-400"},"No image",-1)])))]),e("div",I,[e("h3",ee,c(s.title||s.name.de||"Unnamed Project"),1),e("p",te,c(s.description.de||s.short_description.de||"No description available"),1)])]),e("div",se,[e("button",{type:"button",onClick:b=>v(s.id),class:"text-indigo-600 hover:text-indigo-800 text-sm",disabled:i.value.length>=6}," Add to featured ",8,oe)])]))),128))]))]),e("div",ae,[m(N,{type:"submit",class:C({"opacity-25":l(n).processing}),disabled:l(n).processing},{default:u(()=>t[5]||(t[5]=[g(" Save Changes ")])),_:1},8,["class","disabled"])])],32)])])])])]),_:1}))}};export{ge as default};
