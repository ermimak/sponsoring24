import{D}from"./DashboardLayout.js";import{e as V,o as n,w as k,y as i,k as a,f as e,t as o,n as m,i as h,F as G,l as P,g as C,p as j,S as L}from"./vendor.js";import{N as B}from"./NotificationDropdown.js";import{r as R}from"./app.js";import{_ as z}from"./_plugin-vue_export-helper.js";import"./SidebarLink.js";/* empty css    */const I={__name:"Index",props:{notifications:{type:Array,default:()=>[]},unreadNotificationsCount:{type:Number,default:0},stats:{type:Object,default:()=>({activeLicense:null,projectsCount:0,totalDonations:0,referrals:{totalReferrals:0,creditedReferrals:0,pendingReferrals:0,totalEarned:0},newUsersCount:0,newUsersGrowth:0})},recentProjects:{type:Array,default:()=>[]}},setup(w,{expose:t}){t();const s=w,l=(r,c="CHF")=>new Intl.NumberFormat("de-CH",{style:"currency",currency:c,minimumFractionDigits:0,maximumFractionDigits:0}).format(r),y=r=>{const c=new Date(r),g=Math.floor((new Date-c)/1e3);if(g<60)return"just now";const u=Math.floor(g/60);if(u<60)return`${u} ${u===1?"minute":"minutes"} ago`;const f=Math.floor(u/60);if(f<24)return`${f} ${f===1?"hour":"hours"} ago`;const x=Math.floor(f/24);return x<30?`${x} ${x===1?"day":"days"} ago`:c.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})},_=r=>{switch(r){case"active":return"bg-green-100 text-green-800";case"pending":return"bg-yellow-100 text-yellow-800";case"completed":return"bg-blue-100 text-blue-800";case"rejected":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},b=j(()=>(console.log("Recent projects from props:",s.recentProjects),!s.recentProjects||s.recentProjects.length===0?(console.log("No recent projects found"),[]):s.recentProjects.map(r=>(console.log("Processing project:",r),{id:r.id,title:r.name,description:`Last updated ${y(r.updated_at)}`,status:r.status?r.status.charAt(0).toUpperCase()+r.status.slice(1):"Unknown",statusClass:_(r.status||"unknown"),date:y(r.updated_at),amount:l(r.total_raised||0)})))),v={props:s,formatCurrency:l,formatRelativeDate:y,getStatusClass:_,recentActivity:b,DashboardLayout:D,get Link(){return L},computed:j,NotificationDropdown:B,get route(){return R}};return Object.defineProperty(v,"__isScriptSetup",{enumerable:!1,value:!0}),v}},N={key:0,class:"mb-4 p-4 bg-gray-100 rounded-lg text-xs overflow-auto max-h-40"},S={class:"py-6"},A={class:"max-w-7xl mx-auto px-4 sm:px-6 md:px-8"},H={class:"mt-8"},F={class:"grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4"},T={class:"bg-white overflow-hidden shadow rounded-lg"},U={class:"p-5"},E={class:"flex items-center"},O={class:"ml-5 w-0 flex-1"},J={class:"flex items-baseline"},Q={class:"text-2xl font-semibold text-gray-900"},q={key:1,class:"self-center flex-shrink-0 h-5 w-5 text-red-500",fill:"currentColor",viewBox:"0 0 20 20"},K={class:"sr-only"},W={class:"bg-white overflow-hidden shadow rounded-lg"},X={class:"p-5"},Y={class:"flex items-center"},Z={class:"ml-5 w-0 flex-1"},$={class:"flex items-baseline"},ee={class:"text-2xl font-semibold text-gray-900"},te={key:1,class:"self-center flex-shrink-0 h-5 w-5 text-red-500",fill:"currentColor",viewBox:"0 0 20 20"},se={class:"sr-only"},oe={class:"bg-white overflow-hidden shadow rounded-lg"},re={class:"p-5"},ne={class:"flex items-center"},le={class:"ml-5 w-0 flex-1"},ae={class:"flex items-baseline"},ie={class:"text-2xl font-semibold text-gray-900"},de={key:1,class:"self-center flex-shrink-0 h-5 w-5 text-red-500",fill:"currentColor",viewBox:"0 0 20 20"},ce={class:"sr-only"},ue={class:"bg-white overflow-hidden shadow rounded-lg"},fe={class:"p-5"},me={class:"flex items-center"},xe={class:"ml-5 w-0 flex-1"},he={class:"flex items-baseline"},ve={class:"text-2xl font-semibold text-gray-900"},ge={key:0,class:"ml-2 flex items-baseline text-sm font-semibold text-yellow-600"},we={class:"mt-8"},ye={class:"mt-2 bg-white shadow overflow-hidden sm:rounded-md"},be={key:0,role:"list",class:"divide-y divide-gray-200"},_e={class:"px-4 py-4 sm:px-6"},pe={class:"flex items-center justify-between"},ke={class:"text-sm font-medium text-blue-600 truncate"},Me={class:"ml-2 flex-shrink-0 flex"},Ce={class:"mt-2 sm:flex sm:justify-between"},je={class:"sm:flex"},De={class:"flex items-center text-sm text-gray-500"},Ve={class:"mt-2 flex items-center text-sm text-gray-500 sm:mt-0"},Ge={class:"mt-2 text-sm text-gray-700"},Pe={class:"font-medium"},Le={key:1,class:"py-8 text-center text-gray-500"},Be={key:1,class:"mb-6 p-4 bg-blue-50 border border-blue-200 rounded-lg flex items-center justify-between"};function Re(w,t,s,l,y,_){return n(),V(l.DashboardLayout,null,{default:k(()=>{var b,v,r,c,p,g,u,f,x,M;return[i(" Debug Info "),((r=(v=(b=w.$page.props)==null?void 0:b.auth)==null?void 0:v.user)==null?void 0:r.email)==="admin@example.com"?(n(),a("div",N,[t[0]||(t[0]=e("p",{class:"font-bold"},"Debug Info:",-1)),e("p",null,"Projects Count: "+o(((c=l.props.stats)==null?void 0:c.projectsCount)||0),1),e("p",null,"Total Donations: "+o(((p=l.props.stats)==null?void 0:p.totalDonations)||0),1),e("p",null,"Recent Projects Count: "+o(((g=l.props.recentProjects)==null?void 0:g.length)||0),1),e("p",null,"Recent Projects: "+o(JSON.stringify(l.props.recentProjects||[])),1)])):i("v-if",!0),e("div",S,[t[23]||(t[23]=e("div",{class:"max-w-7xl mx-auto px-4 sm:px-6 md:px-8"},[e("h1",{class:"text-2xl font-semibold text-gray-900"},"Dashboard")],-1)),e("div",A,[i(" Stats "),e("div",H,[e("div",F,[i(" Total Donations "),e("div",T,[e("div",U,[e("div",E,[t[4]||(t[4]=e("div",{class:"flex-shrink-0"},[e("svg",{class:"h-6 w-6 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),e("div",O,[e("dl",null,[t[3]||(t[3]=e("dt",{class:"text-sm font-medium text-gray-500 truncate"},"Total Donations",-1)),e("dd",J,[e("div",Q,o(l.formatCurrency(s.stats.totalDonations)),1),s.stats.donationsGrowth!==0?(n(),a("div",{key:0,class:m(["ml-2 flex items-baseline text-sm font-semibold",s.stats.donationsGrowth>=0?"text-green-600":"text-red-600"])},[s.stats.donationsGrowth>=0?(n(),a("svg",{key:0,class:m(["self-center flex-shrink-0 h-5 w-5",s.stats.donationsGrowth>=0?"text-green-500":"text-red-500"]),fill:"currentColor",viewBox:"0 0 20 20"},t[1]||(t[1]=[e("path",{"fill-rule":"evenodd",d:"M5.293 9.707a1 1 0 010-1.414l4-4a1 1 0 011.414 0l4 4a1 1 0 01-1.414 1.414L11 7.414V15a1 1 0 11-2 0V7.414L6.707 9.707a1 1 0 01-1.414 0z","clip-rule":"evenodd"},null,-1)]),2)):(n(),a("svg",q,t[2]||(t[2]=[e("path",{"fill-rule":"evenodd",d:"M14.707 10.293a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 111.414-1.414L9 12.586V5a1 1 0 012 0v7.586l2.293-2.293a1 1 0 011.414 0z","clip-rule":"evenodd"},null,-1)]))),e("span",K,o(s.stats.donationsGrowth>=0?"Increased":"Decreased")+" by",1),h(" "+o(Math.abs(s.stats.donationsGrowth))+"% ",1)],2)):i("v-if",!0)])])])])])]),i(" Active Projects "),e("div",W,[e("div",X,[e("div",Y,[t[8]||(t[8]=e("div",{class:"flex-shrink-0"},[e("svg",{class:"h-6 w-6 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})])],-1)),e("div",Z,[e("dl",null,[t[7]||(t[7]=e("dt",{class:"text-sm font-medium text-gray-500 truncate"},"Active Projects",-1)),e("dd",$,[e("div",ee,o(s.stats.projectsCount),1),s.stats.projectsGrowth!==0?(n(),a("div",{key:0,class:m(["ml-2 flex items-baseline text-sm font-semibold",s.stats.projectsGrowth>=0?"text-green-600":"text-red-600"])},[s.stats.projectsGrowth>=0?(n(),a("svg",{key:0,class:m(["self-center flex-shrink-0 h-5 w-5",s.stats.projectsGrowth>=0?"text-green-500":"text-red-500"]),fill:"currentColor",viewBox:"0 0 20 20"},t[5]||(t[5]=[e("path",{"fill-rule":"evenodd",d:"M5.293 9.707a1 1 0 010-1.414l4-4a1 1 0 011.414 0l4 4a1 1 0 01-1.414 1.414L11 7.414V15a1 1 0 11-2 0V7.414L6.707 9.707a1 1 0 01-1.414 0z","clip-rule":"evenodd"},null,-1)]),2)):(n(),a("svg",te,t[6]||(t[6]=[e("path",{"fill-rule":"evenodd",d:"M14.707 10.293a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 111.414-1.414L9 12.586V5a1 1 0 012 0v7.586l2.293-2.293a1 1 0 011.414 0z","clip-rule":"evenodd"},null,-1)]))),e("span",se,o(s.stats.projectsGrowth>=0?"Increased":"Decreased")+" by",1),h(" "+o(Math.abs(s.stats.projectsGrowth)),1)],2)):i("v-if",!0)])])])])])]),i(" Total Donors "),e("div",oe,[e("div",re,[e("div",ne,[t[12]||(t[12]=e("div",{class:"flex-shrink-0"},[e("svg",{class:"h-6 w-6 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})])],-1)),e("div",le,[e("dl",null,[t[11]||(t[11]=e("dt",{class:"text-sm font-medium text-gray-500 truncate"},"Total Donors",-1)),e("dd",ae,[e("div",ie,o(s.stats.referrals.totalReferrals),1),s.stats.referralsGrowth!==0?(n(),a("div",{key:0,class:m(["ml-2 flex items-baseline text-sm font-semibold",s.stats.referralsGrowth>=0?"text-green-600":"text-red-600"])},[s.stats.referralsGrowth>=0?(n(),a("svg",{key:0,class:m(["self-center flex-shrink-0 h-5 w-5",s.stats.referralsGrowth>=0?"text-green-500":"text-red-500"]),fill:"currentColor",viewBox:"0 0 20 20"},t[9]||(t[9]=[e("path",{"fill-rule":"evenodd",d:"M5.293 9.707a1 1 0 010-1.414l4-4a1 1 0 011.414 0l4 4a1 1 0 01-1.414 1.414L11 7.414V15a1 1 0 11-2 0V7.414L6.707 9.707a1 1 0 01-1.414 0z","clip-rule":"evenodd"},null,-1)]),2)):(n(),a("svg",de,t[10]||(t[10]=[e("path",{"fill-rule":"evenodd",d:"M14.707 10.293a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 111.414-1.414L9 12.586V5a1 1 0 012 0v7.586l2.293-2.293a1 1 0 011.414 0z","clip-rule":"evenodd"},null,-1)]))),e("span",ce,o(s.stats.referralsGrowth>=0?"Increased":"Decreased")+" by",1),h(" "+o(Math.abs(s.stats.referralsGrowth))+"% ",1)],2)):i("v-if",!0)])])])])])]),i(" Success Rate "),e("div",ue,[e("div",fe,[e("div",me,[t[16]||(t[16]=e("div",{class:"flex-shrink-0"},[e("svg",{class:"h-6 w-6 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),e("div",xe,[e("dl",null,[t[15]||(t[15]=e("dt",{class:"text-sm font-medium text-gray-500 truncate"},"Referral Earnings",-1)),e("dd",he,[e("div",ve,o(l.formatCurrency(s.stats.referrals.totalEarned)),1),s.stats.referrals.pendingReferrals>0?(n(),a("div",ge,[t[13]||(t[13]=e("svg",{class:"self-center flex-shrink-0 h-5 w-5 text-yellow-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),t[14]||(t[14]=e("span",{class:"sr-only"},"Pending",-1)),h(" "+o(s.stats.referrals.pendingReferrals)+" pending ",1)])):i("v-if",!0)])])])])])])])]),i(" Recent Projects "),e("div",we,[t[22]||(t[22]=e("h2",{class:"text-lg leading-6 font-medium text-gray-900"},"Recent Projects",-1)),e("div",ye,[l.recentActivity.length>0?(n(),a("ul",be,[(n(!0),a(G,null,P(l.recentActivity,d=>(n(),a("li",{key:d.id},[C(l.Link,{href:l.route("dashboard.projects.show",d.id),class:"block hover:bg-gray-50"},{default:k(()=>[e("div",_e,[e("div",pe,[e("p",ke,o(d.title),1),e("div",Me,[e("p",{class:m(["px-2 inline-flex text-xs leading-5 font-semibold rounded-full",d.statusClass])},o(d.status),3)])]),e("div",Ce,[e("div",je,[e("p",De,o(d.description),1)]),e("div",Ve,[t[17]||(t[17]=e("svg",{class:"flex-shrink-0 mr-1.5 h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})],-1)),e("p",null,o(d.date),1)])]),e("div",Ge,[e("span",Pe,o(d.amount),1),t[18]||(t[18]=h(" raised "))])])]),_:2},1032,["href"])]))),128))])):(n(),a("div",Le,[t[20]||(t[20]=e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-12 w-12 mx-auto text-gray-400 mb-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})],-1)),t[21]||(t[21]=e("p",null,"No projects yet",-1)),C(l.Link,{href:l.route("dashboard.projects.create"),class:"mt-3 inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"},{default:k(()=>t[19]||(t[19]=[h(" Create your first project ")])),_:1},8,["href"])]))])])])]),(M=(x=(f=(u=w.$page.props)==null?void 0:u.auth)==null?void 0:f.user)==null?void 0:x.permissions)!=null&&M.includes("manage_users")?(n(),a("div",Be,t[24]||(t[24]=[e("div",null,[e("span",{class:"font-semibold text-blue-800"},"Admin Quick Actions:"),e("a",{href:"/dashboard/admin/roles",class:"ml-4 text-blue-700 hover:underline"},"Manage Roles"),e("a",{href:"/dashboard/admin/permissions",class:"ml-4 text-blue-700 hover:underline"},"Manage Permissions")],-1)]))):i("v-if",!0)]}),_:1})}const Te=z(I,[["render",Re],["__file","/var/www/html/resources/js/Pages/Dashboard/Index.vue"]]);export{Te as default};
