import{e as E,o as p,w as m,f as t,k as x,y as w,i as u,t as i,g as _,F as I,l as A,N as D,m as g,I as L,W as b,S as T}from"./vendor.js";import{D as H}from"./DashboardLayout.js";import{_ as W}from"./_plugin-vue_export-helper.js";import"./SidebarLink.js";import"./NotificationDropdown.js";import"./app.js";/* empty css    */const z={__name:"Index",setup(h,{expose:s}){var j,P,C,S;s();const{props:n}=D(),e=g(((j=n.projects)==null?void 0:j.data)||[]),c=g(((P=n.projects)==null?void 0:P.current_page)||1),v=g(((C=n.projects)==null?void 0:C.last_page)||1),o=g(((S=n.projects)==null?void 0:S.total)||0),a=g(!1),l=g(null);L(()=>{console.log("Projects data:",n.projects),n.projects&&n.projects.data&&n.projects.data.length>0&&(console.log("First project:",n.projects.data[0]),console.log("Donations sum amount:",n.projects.data[0].donations_sum_amount),console.log("Paid donations sum amount:",n.projects.data[0].paid_donations_sum_amount))});const f=r=>r?new Date(r).toLocaleDateString():"",F=r=>r?new Date(r).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"",B=r=>{confirm("Are you sure you want to delete this project?")&&b.delete($route("dashboard.projects.destroy",r),{onStart:()=>{a.value=!0,l.value=null},onSuccess:()=>{e.value=e.value.filter(d=>d.id!==r),o.value--,a.value=!1},onError:d=>{l.value=d.message||"Failed to delete project.",a.value=!1}})},M=r=>{b.post("/dashboard/projects/duplicate/"+r.id,{},{onStart:()=>{a.value=!0,l.value=null},onSuccess:d=>{e.value.push(d.props.projects.data[e.value.length]),o.value++,a.value=!1},onError:d=>{l.value=d.message||"Failed to duplicate project.",a.value=!1}})},N=()=>{c.value>1&&(c.value--,y())},V=()=>{c.value<v.value&&(c.value++,y())},y=()=>{b.get($route("dashboard.projects.index"),{page:c.value},{preserveState:!0,preserveScroll:!0,onStart:()=>{a.value=!0,l.value=null},onSuccess:r=>{e.value=r.props.projects.data,c.value=r.props.projects.current_page,v.value=r.props.projects.last_page,o.value=r.props.projects.total,a.value=!1},onError:r=>{l.value=r.message||"Failed to load projects.",a.value=!1}})},k={props:n,projects:e,currentPage:c,totalPages:v,totalEntries:o,loading:a,error:l,formatDate:f,formatTime:F,deleteProject:B,duplicateProject:M,prevPage:N,nextPage:V,fetchProjects:y,ref:g,onMounted:L,get Link(){return T},get usePage(){return D},get router(){return b},DashboardLayout:H};return Object.defineProperty(k,"__isScriptSetup",{enumerable:!1,value:!0}),k}},O={class:"py-8"},R={class:"max-w-7xl mx-auto"},U={class:"flex justify-between items-center mb-8"},q={class:"text-3xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-purple-600 to-blue-600"},G={class:"text-gray-700 text-lg font-normal ml-2"},J={class:"flex gap-3"},K={class:"bg-white shadow-sm rounded-xl overflow-hidden border border-gray-100"},Q={class:"min-w-full divide-y divide-gray-100"},X={class:"bg-white divide-y divide-gray-100"},Y={class:"px-6 py-5 whitespace-nowrap"},Z={class:"px-6 py-5 whitespace-nowrap"},$={class:"font-medium"},tt={class:"text-xs text-gray-500 mt-1"},et={class:"px-6 py-5 whitespace-nowrap"},ot={class:"px-6 py-5 whitespace-nowrap"},st={class:"px-6 py-5 whitespace-nowrap"},rt={class:"font-medium"},at={class:"text-xs text-green-600 mt-1"},nt={class:"px-6 py-5 whitespace-nowrap text-right"},it={class:"flex justify-end gap-3 table-actions"},lt=["onClick"],dt=["onClick"],ct={key:0,class:"p-4 text-center text-gray-500"},ut={key:1,class:"p-4 text-center text-red-500"},pt={key:2,class:"p-4 text-center text-gray-500"},gt={key:0,class:"mt-6 flex justify-between items-center"},xt={class:"text-sm text-gray-500 font-medium"},ht={class:"flex gap-3"},mt=["disabled"],vt=["disabled"];function ft(h,s,n,e,c,v){return p(),E(e.DashboardLayout,null,{default:m(()=>[t("div",O,[t("div",R,[t("div",U,[t("h1",q,[s[0]||(s[0]=u("Campaigns ")),t("span",G,"("+i(e.totalEntries)+" total)",1)]),t("div",J,[s[2]||(s[2]=t("button",{class:"px-4 py-2 bg-white shadow-sm rounded-lg text-gray-700 hover:bg-gray-50 transition-colors duration-200 flex items-center"},[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 mr-2 text-purple-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"})]),u(" Filter ")],-1)),_(e.Link,{href:h.$route("dashboard.projects.create"),class:"px-4 py-2 bg-gradient-to-r from-purple-600 to-blue-600 shadow-sm rounded-lg text-white hover:from-purple-700 hover:to-blue-700 transition-colors duration-200 flex items-center"},{default:m(()=>s[1]||(s[1]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})],-1),u(" New Campaign ")])),_:1},8,["href"])])]),t("div",K,[t("table",Q,[s[5]||(s[5]=t("thead",null,[t("tr",{class:"bg-gray-50"},[t("th",{class:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider"},"Campaign"),t("th",{class:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider"},"Start Date"),t("th",{class:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider"},"Participants"),t("th",{class:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider"},"Donations"),t("th",{class:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider"},"Revenue"),t("th",{class:"px-6 py-4 text-right text-xs font-semibold text-gray-600 uppercase tracking-wider"},"Actions")])],-1)),t("tbody",X,[(p(!0),x(I,null,A(e.projects,o=>(p(),x("tr",{key:o.id,class:"hover:bg-gray-50 transition-colors duration-150"},[t("td",Y,[_(e.Link,{href:h.$route("dashboard.projects.edit",o.id),class:"text-blue-600 font-medium hover:text-blue-800 transition-colors duration-200"},{default:m(()=>{var a,l,f;return[u(i(((a=o.name)==null?void 0:a.de)||((l=o.name)==null?void 0:l.fr)||((f=o.name)==null?void 0:f.en)||"Untitled"),1)]}),_:2},1032,["href"])]),t("td",Z,[t("div",$,i(e.formatDate(o.start)),1),t("div",tt,i(e.formatTime(o.start)),1)]),t("td",et,[_(e.Link,{href:h.$route("dashboard.projects.edit",{id:o.id,tab:"Participant"}),class:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800 hover:bg-blue-200 transition-colors duration-200"},{default:m(()=>[u(i(o.participants_count||0)+" participants ",1)]),_:2},1032,["href"])]),t("td",ot,[_(e.Link,{href:h.$route("dashboard.projects.edit",{id:o.id,tab:"Donations"}),class:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-purple-100 text-purple-800 hover:bg-purple-200 transition-colors duration-200"},{default:m(()=>[u(i(o.donations_count||0)+" donations ",1)]),_:2},1032,["href"])]),t("td",st,[t("div",rt,"â‚¬"+i(Number.isFinite(o.donations_sum_amount)?o.donations_sum_amount.toFixed(2):"0.00"),1),t("div",at,"Paid: â‚¬"+i(Number.isFinite(o.paid_donations_sum_amount)?o.paid_donations_sum_amount.toFixed(2):"0.00"),1)]),t("td",nt,[t("div",it,[t("button",{onClick:a=>e.duplicateProject(o),class:"text-gray-500 hover:text-blue-600 transition-colors duration-200 p-1"},[...s[3]||(s[3]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7v8a2 2 0 002 2h6M8 7V5a2 2 0 012-2h4.586a1 1 0 01.707.293l4.414 4.414a1 1 0 01.293.707V15a2 2 0 01-2 2h-2M8 7H6a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2v-2"})],-1)])],8,lt),t("button",{onClick:a=>e.deleteProject(o.id),class:"text-gray-500 hover:text-red-600 transition-colors duration-200 p-1"},[...s[4]||(s[4]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)])],8,dt)])])]))),128))])]),e.loading?(p(),x("div",ct,"Loading...")):w("v-if",!0),e.error?(p(),x("div",ut,i(e.error),1)):w("v-if",!0),!e.loading&&e.projects.length===0?(p(),x("div",pt,"No entries found ðŸ˜•")):w("v-if",!0)]),e.totalPages>1?(p(),x("div",gt,[t("span",xt,[u("Page "+i(e.currentPage)+" of "+i(e.totalPages)+" ",1),s[6]||(s[6]=t("span",{class:"text-gray-400"},"|",-1)),u(" "+i(e.totalEntries)+" campaigns total",1)]),t("div",ht,[t("button",{onClick:e.prevPage,disabled:e.currentPage===1,class:"flex items-center justify-center w-10 h-10 rounded-lg bg-white border border-gray-200 text-gray-600 hover:bg-gray-50 hover:text-blue-600 disabled:opacity-50 disabled:hover:bg-white disabled:hover:text-gray-400 transition-colors duration-200"},s[7]||(s[7]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1)]),8,mt),t("button",{onClick:e.nextPage,disabled:e.currentPage===e.totalPages,class:"flex items-center justify-center w-10 h-10 rounded-lg bg-white border border-gray-200 text-gray-600 hover:bg-gray-50 hover:text-blue-600 disabled:opacity-50 disabled:hover:bg-white disabled:hover:text-gray-400 transition-colors duration-200"},s[8]||(s[8]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)]),8,vt)])])):w("v-if",!0)])])]),_:1})}const Ct=W(z,[["render",ft],["__scopeId","data-v-a79424ab"],["__file","/var/www/html/resources/js/Pages/Projects/Index.vue"]]);export{Ct as default};
