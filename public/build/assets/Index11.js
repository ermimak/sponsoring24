import{O as E,e as p,I as A,f as I,o as c,w as h,g as t,l as x,y as f,j as d,t as a,i as w,u as _,S as b,F as H,m as T,W as y}from"./vendor.js";import{D as W}from"./DashboardLayout.js";import{_ as z}from"./_plugin-vue_export-helper.js";import"./SidebarLink.js";import"./NotificationDropdown.js";import"./app.js";/* empty css    */const O={class:"py-8"},R={class:"max-w-7xl mx-auto"},U={class:"flex justify-between items-center mb-8"},q={class:"text-3xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-purple-600 to-blue-600"},G={class:"text-gray-700 text-lg font-normal ml-2"},J={class:"flex gap-3"},K={class:"bg-white shadow-sm rounded-xl overflow-hidden border border-gray-100"},Q={class:"min-w-full divide-y divide-gray-100"},X={class:"bg-white divide-y divide-gray-100"},Y={class:"px-6 py-5 whitespace-nowrap"},Z={class:"px-6 py-5 whitespace-nowrap"},tt={class:"font-medium"},et={class:"text-xs text-gray-500 mt-1"},st={class:"px-6 py-5 whitespace-nowrap"},ot={class:"px-6 py-5 whitespace-nowrap"},at={class:"px-6 py-5 whitespace-nowrap"},rt={class:"font-medium"},nt={class:"text-xs text-green-600 mt-1"},lt={class:"px-6 py-5 whitespace-nowrap text-right"},it={class:"flex justify-end gap-3 table-actions"},dt=["onClick"],ut=["onClick"],ct={key:0,class:"p-4 text-center text-gray-500"},pt={key:1,class:"p-4 text-center text-red-500"},xt={key:2,class:"p-4 text-center text-gray-500"},vt={key:0,class:"mt-6 flex justify-between items-center"},gt={class:"text-sm text-gray-500 font-medium"},ht={class:"flex gap-3"},mt=["disabled"],ft=["disabled"],wt={__name:"Index",setup(_t){var j,C,P,S;const{props:r}=E(),u=p(((j=r.projects)==null?void 0:j.data)||[]),l=p(((C=r.projects)==null?void 0:C.current_page)||1),v=p(((P=r.projects)==null?void 0:P.last_page)||1),g=p(((S=r.projects)==null?void 0:S.total)||0),n=p(!1),i=p(null);A(()=>{console.log("Projects data:",r.projects),r.projects&&r.projects.data&&r.projects.data.length>0&&(console.log("First project:",r.projects.data[0]),console.log("Donations sum amount:",r.projects.data[0].donations_sum_amount),console.log("Paid donations sum amount:",r.projects.data[0].paid_donations_sum_amount))});const B=s=>s?new Date(s).toLocaleDateString():"",M=s=>s?new Date(s).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"",V=s=>{confirm("Are you sure you want to delete this project?")&&y.delete($route("dashboard.projects.destroy",s),{onStart:()=>{n.value=!0,i.value=null},onSuccess:()=>{u.value=u.value.filter(e=>e.id!==s),g.value--,n.value=!1},onError:e=>{i.value=e.message||"Failed to delete project.",n.value=!1}})},N=s=>{y.post("/dashboard/projects/duplicate/"+s.id,{},{onStart:()=>{n.value=!0,i.value=null},onSuccess:e=>{u.value.push(e.props.projects.data[u.value.length]),g.value++,n.value=!1},onError:e=>{i.value=e.message||"Failed to duplicate project.",n.value=!1}})},$=()=>{l.value>1&&(l.value--,k())},L=()=>{l.value<v.value&&(l.value++,k())},k=()=>{y.get($route("dashboard.projects.index"),{page:l.value},{preserveState:!0,preserveScroll:!0,onStart:()=>{n.value=!0,i.value=null},onSuccess:s=>{u.value=s.props.projects.data,l.value=s.props.projects.current_page,v.value=s.props.projects.last_page,g.value=s.props.projects.total,n.value=!1},onError:s=>{i.value=s.message||"Failed to load projects.",n.value=!1}})};return(s,e)=>(c(),I(W,null,{default:h(()=>[t("div",O,[t("div",R,[t("div",U,[t("h1",q,[e[0]||(e[0]=d("Campaigns ")),t("span",G,"("+a(g.value)+" total)",1)]),t("div",J,[e[2]||(e[2]=t("button",{class:"px-4 py-2 bg-white shadow-sm rounded-lg text-gray-700 hover:bg-gray-50 transition-colors duration-200 flex items-center"},[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 mr-2 text-purple-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"})]),d(" Filter ")],-1)),w(_(b),{href:s.$route("dashboard.projects.create"),class:"px-4 py-2 bg-gradient-to-r from-purple-600 to-blue-600 shadow-sm rounded-lg text-white hover:from-purple-700 hover:to-blue-700 transition-colors duration-200 flex items-center"},{default:h(()=>e[1]||(e[1]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})],-1),d(" New Campaign ")])),_:1},8,["href"])])]),t("div",K,[t("table",Q,[e[5]||(e[5]=t("thead",null,[t("tr",{class:"bg-gray-50"},[t("th",{class:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider"},"Campaign"),t("th",{class:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider"},"Start Date"),t("th",{class:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider"},"Participants"),t("th",{class:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider"},"Donations"),t("th",{class:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider"},"Revenue"),t("th",{class:"px-6 py-4 text-right text-xs font-semibold text-gray-600 uppercase tracking-wider"},"Actions")])],-1)),t("tbody",X,[(c(!0),x(H,null,T(u.value,o=>(c(),x("tr",{key:o.id,class:"hover:bg-gray-50 transition-colors duration-150"},[t("td",Y,[w(_(b),{href:s.$route("dashboard.projects.edit",o.id),class:"text-blue-600 font-medium hover:text-blue-800 transition-colors duration-200"},{default:h(()=>{var m,D,F;return[d(a(((m=o.name)==null?void 0:m.de)||((D=o.name)==null?void 0:D.fr)||((F=o.name)==null?void 0:F.en)||"Untitled"),1)]}),_:2},1032,["href"])]),t("td",Z,[t("div",tt,a(B(o.start)),1),t("div",et,a(M(o.start)),1)]),t("td",st,[w(_(b),{href:s.$route("dashboard.projects.edit",{id:o.id,tab:"Participant"}),class:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800 hover:bg-blue-200 transition-colors duration-200"},{default:h(()=>[d(a(o.participants_count||0)+" participants ",1)]),_:2},1032,["href"])]),t("td",ot,[w(_(b),{href:s.$route("dashboard.projects.edit",{id:o.id,tab:"Donations"}),class:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-purple-100 text-purple-800 hover:bg-purple-200 transition-colors duration-200"},{default:h(()=>[d(a(o.donations_count||0)+" donations ",1)]),_:2},1032,["href"])]),t("td",at,[t("div",rt,"â‚¬"+a(Number.isFinite(o.donations_sum_amount)?o.donations_sum_amount.toFixed(2):"0.00"),1),t("div",nt,"Paid: â‚¬"+a(Number.isFinite(o.paid_donations_sum_amount)?o.paid_donations_sum_amount.toFixed(2):"0.00"),1)]),t("td",lt,[t("div",it,[t("button",{onClick:m=>N(o),class:"text-gray-500 hover:text-blue-600 transition-colors duration-200 p-1"},e[3]||(e[3]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7v8a2 2 0 002 2h6M8 7V5a2 2 0 012-2h4.586a1 1 0 01.707.293l4.414 4.414a1 1 0 01.293.707V15a2 2 0 01-2 2h-2M8 7H6a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2v-2"})],-1)]),8,dt),t("button",{onClick:m=>V(o.id),class:"text-gray-500 hover:text-red-600 transition-colors duration-200 p-1"},e[4]||(e[4]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)]),8,ut)])])]))),128))])]),n.value?(c(),x("div",ct,"Loading...")):f("",!0),i.value?(c(),x("div",pt,a(i.value),1)):f("",!0),!n.value&&u.value.length===0?(c(),x("div",xt,"No entries found ðŸ˜•")):f("",!0)]),v.value>1?(c(),x("div",vt,[t("span",gt,[d("Page "+a(l.value)+" of "+a(v.value)+" ",1),e[6]||(e[6]=t("span",{class:"text-gray-400"},"|",-1)),d(" "+a(g.value)+" campaigns total",1)]),t("div",ht,[t("button",{onClick:$,disabled:l.value===1,class:"flex items-center justify-center w-10 h-10 rounded-lg bg-white border border-gray-200 text-gray-600 hover:bg-gray-50 hover:text-blue-600 disabled:opacity-50 disabled:hover:bg-white disabled:hover:text-gray-400 transition-colors duration-200"},e[7]||(e[7]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1)]),8,mt),t("button",{onClick:L,disabled:l.value===v.value,class:"flex items-center justify-center w-10 h-10 rounded-lg bg-white border border-gray-200 text-gray-600 hover:bg-gray-50 hover:text-blue-600 disabled:opacity-50 disabled:hover:bg-white disabled:hover:text-gray-400 transition-colors duration-200"},e[8]||(e[8]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)]),8,ft)])])):f("",!0)])])]),_:1}))}},Dt=z(wt,[["__scopeId","data-v-85f9f5e6"]]);export{Dt as default};
