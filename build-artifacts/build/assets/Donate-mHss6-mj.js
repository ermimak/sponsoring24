import{p as h,r as c,z as V,d as u,o as d,a as e,l as S,e as m,t as n,b as v,f as r,v as a,q as w,g as U,h as g,W as k}from"./app-BikmxpuD.js";import{_ as q}from"./_plugin-vue_export-helper-DlAUqK2U.js";const C={class:"min-h-screen bg-gray-50"},F={class:"relative w-full h-64"},M=["src"],O={class:"max-w-4xl mx-auto py-10 px-4 sm:px-6 lg:px-8"},z={class:"bg-white shadow-lg rounded-lg p-8"},D={key:0},A={class:"text-4xl font-bold text-gray-900 mb-2"},B={class:"text-sm text-gray-500 mb-6"},E={class:"text-gray-600 mb-8"},H={class:"text-2xl font-semibold text-gray-900 mb-4"},I={class:"relative"},N={type:"submit",class:"w-full bg-purple-600 text-white px-6 py-3 rounded-lg hover:bg-purple-700 transition duration-200 font-medium"},P={key:1},T={class:"text-4xl font-bold text-gray-900 mb-2"},W={class:"text-sm text-gray-500 mb-6"},Y={class:"text-gray-600 mb-8"},L={class:"text-gray-700 mb-6"},$={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},G={class:"flex items-center"},J={key:2,class:"fixed inset-0 bg-gray-600 bg-opacity-75 flex items-center justify-center z-50"},K={class:"bg-white p-6 rounded-lg shadow-lg max-w-md"},Q={class:"text-gray-600 mb-4"},R={class:"text-gray-900 font-medium"},X={key:3,class:"text-center py-12"},Z={class:"text-3xl font-bold text-gray-900 mb-4"},_=["href"],ee={class:"bg-gray-900 text-white py-6"},te={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center"},oe={__name:"Donate",props:{project:Object,participant:Object,step:String,confirmation_email:String,confirmation_link:String,message:String},setup(s){const p=s,b=h(),o=c({amount:0,currency:"CHF",gender:"Masculine",first_name:"",last_name:"",company:"",address:"",address_suffix:"",postal_code:"",location:"",country:"Switzerland",email:"",phone:"",privacy_policy:!1}),x=c({}),f=c(!1);V(()=>{var i,t;return{success:((i=b.props.flash)==null?void 0:i.success)||"",error:((t=b.props.flash)==null?void 0:t.error)||""}});function y(){f.value=!0,x.value={},k.post(`/projects/${p.project.id}/participants/${p.participant.id}/donate`,{...o.value,step:p.step==="donation"?"donation":"confirmation"},{onSuccess:()=>{f.value=!1,console.log("Form submission successful. Current step:",p.step)},onError:i=>{x.value=i,f.value=!1,console.error("Form submission failed:",i)}})}function j(){k.visit(route("dashboard"))}return(i,t)=>(d(),u("div",C,[e("div",F,[e("img",{src:s.project.image_url,alt:"Event Image",class:"w-full h-full object-cover"},null,8,M),t[13]||(t[13]=e("div",{class:"absolute top-4 right-4"},[e("span",{class:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-white bg-opacity-80 text-purple-600"},"fundo")],-1))]),e("main",O,[e("div",z,[s.step==="donation"?(d(),u("div",D,[e("h1",A,n(s.project.name),1),e("div",B,[e("span",null,n(s.project.date)+" "+n(s.project.time),1),t[14]||(t[14]=e("span",{class:"mx-2"},"•",-1)),e("span",null,"@ "+n(s.project.location),1)]),e("p",E,n(s.project.description),1),e("h2",H,"Your support for "+n(s.participant.first_name)+" "+n(s.participant.last_name),1),t[16]||(t[16]=e("div",{class:"flex items-center space-x-4 mb-6"},[e("span",{class:"flex items-center justify-center w-6 h-6 rounded-full bg-purple-100 text-purple-600"},"•"),e("span",{class:"text-gray-700"},"Flat-rate donation")],-1)),e("form",{onSubmit:v(y,["prevent"]),class:"space-y-6"},[e("div",I,[r(e("input",{"onUpdate:modelValue":t[0]||(t[0]=l=>o.value.amount=l),type:"number",class:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500",required:"",min:"0",step:"0.01",placeholder:"0.00"},null,512),[[a,o.value.amount]]),t[15]||(t[15]=e("span",{class:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500"},"CHF",-1))]),e("button",N," CHF "+n(o.value.amount||0)+" support ",1)],32)])):m("",!0),s.step==="confirmation"?(d(),u("div",P,[e("h1",T,n(s.project.name),1),e("div",W,[e("span",null,n(s.project.date)+" "+n(s.project.time),1),t[17]||(t[17]=e("span",{class:"mx-2"},"•",-1)),e("span",null,"@ "+n(s.project.location),1)]),e("p",Y,n(s.project.description),1),t[33]||(t[33]=e("p",{class:"text-gray-700 mb-6"},"Please complete the form below with your personal details.",-1)),e("p",L,"Your flat-rate donation: CHF "+n(o.value.amount||100),1),e("form",{onSubmit:v(y,["prevent"]),class:"space-y-6"},[e("div",$,[e("div",null,[t[19]||(t[19]=e("label",{class:"block text-sm font-medium text-gray-700"},"Gender *",-1)),r(e("select",{"onUpdate:modelValue":t[1]||(t[1]=l=>o.value.gender=l),class:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500"},t[18]||(t[18]=[e("option",{value:"Masculine"},"Masculine",-1),e("option",{value:"Feminine"},"Feminine",-1),e("option",{value:"Other"},"Other",-1)]),512),[[w,o.value.gender]])]),e("div",null,[t[20]||(t[20]=e("label",{class:"block text-sm font-medium text-gray-700"},"First name *",-1)),r(e("input",{"onUpdate:modelValue":t[2]||(t[2]=l=>o.value.first_name=l),type:"text",class:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500",required:""},null,512),[[a,o.value.first_name]])]),e("div",null,[t[21]||(t[21]=e("label",{class:"block text-sm font-medium text-gray-700"},"Last name *",-1)),r(e("input",{"onUpdate:modelValue":t[3]||(t[3]=l=>o.value.last_name=l),type:"text",class:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500",required:""},null,512),[[a,o.value.last_name]])]),e("div",null,[t[22]||(t[22]=e("label",{class:"block text-sm font-medium text-gray-700"},"Company",-1)),r(e("input",{"onUpdate:modelValue":t[4]||(t[4]=l=>o.value.company=l),type:"text",class:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500"},null,512),[[a,o.value.company]])]),e("div",null,[t[23]||(t[23]=e("label",{class:"block text-sm font-medium text-gray-700"},"Address *",-1)),r(e("input",{"onUpdate:modelValue":t[5]||(t[5]=l=>o.value.address=l),type:"text",class:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500",required:""},null,512),[[a,o.value.address]])]),e("div",null,[t[24]||(t[24]=e("label",{class:"block text-sm font-medium text-gray-700"},"Address suffix",-1)),r(e("input",{"onUpdate:modelValue":t[6]||(t[6]=l=>o.value.address_suffix=l),type:"text",class:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500"},null,512),[[a,o.value.address_suffix]])]),e("div",null,[t[25]||(t[25]=e("label",{class:"block text-sm font-medium text-gray-700"},"Postal code *",-1)),r(e("input",{"onUpdate:modelValue":t[7]||(t[7]=l=>o.value.postal_code=l),type:"text",class:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500",required:""},null,512),[[a,o.value.postal_code]])]),e("div",null,[t[26]||(t[26]=e("label",{class:"block text-sm font-medium text-gray-700"},"Location *",-1)),r(e("input",{"onUpdate:modelValue":t[8]||(t[8]=l=>o.value.location=l),type:"text",class:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500",required:""},null,512),[[a,o.value.location]])]),e("div",null,[t[28]||(t[28]=e("label",{class:"block text-sm font-medium text-gray-700"},"Country *",-1)),r(e("select",{"onUpdate:modelValue":t[9]||(t[9]=l=>o.value.country=l),class:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500",required:""},t[27]||(t[27]=[e("option",{value:"Switzerland"},"Switzerland",-1),e("option",{value:"Other"},"Other",-1)]),512),[[w,o.value.country]])]),e("div",null,[t[29]||(t[29]=e("label",{class:"block text-sm font-medium text-gray-700"},"E-mail *",-1)),r(e("input",{"onUpdate:modelValue":t[10]||(t[10]=l=>o.value.email=l),type:"email",class:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500",required:""},null,512),[[a,o.value.email]])]),e("div",null,[t[30]||(t[30]=e("label",{class:"block text-sm font-medium text-gray-700"},"Phone *",-1)),r(e("input",{"onUpdate:modelValue":t[11]||(t[11]=l=>o.value.phone=l),type:"tel",class:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500",required:""},null,512),[[a,o.value.phone]])])]),e("div",G,[r(e("input",{"onUpdate:modelValue":t[12]||(t[12]=l=>o.value.privacy_policy=l),type:"checkbox",class:"h-4 w-4 text-purple-600 focus:ring-purple-500 border-gray-300 rounded",required:""},null,512),[[U,o.value.privacy_policy]]),t[31]||(t[31]=e("label",{class:"ml-2 text-sm text-gray-700"},[g("I accept the "),e("a",{href:"#",class:"text-purple-600 hover:underline"},"privacy policy"),g(" and the "),e("a",{href:"#",class:"text-purple-600 hover:underline"},"terms and conditions of participation"),g(".*")],-1))]),t[32]||(t[32]=e("button",{type:"submit",class:"w-full bg-purple-600 text-white px-6 py-3 rounded-lg hover:bg-purple-700 transition duration-200 font-medium"}," Save ",-1))],32)])):m("",!0),s.step==="modal"?(d(),u("div",J,[e("div",K,[t[34]||(t[34]=e("h2",{class:"text-3xl font-bold text-gray-900 mb-4"},"Almost finished!",-1)),e("p",Q,"To confirm your donation, please click the link sent to you via email at "+n(s.confirmation_email)+".",1),t[35]||(t[35]=e("p",{class:"text-gray-600 mb-6"},"It may take some time for the email to reach your inbox. Please also check your spam folder if you don't receive the email.",-1)),t[36]||(t[36]=e("p",{class:"text-gray-600 mb-6"},"Thank you very much,",-1)),e("p",R,n(s.project.name),1),e("div",{class:"mt-6 flex justify-end"},[e("button",{onClick:j,class:"bg-purple-600 text-white px-6 py-3 rounded-lg hover:bg-purple-700 transition duration-200 font-medium"},"Close")])])])):m("",!0),s.step==="confirmed"?(d(),u("div",X,[e("h2",Z,n(s.message),1),t[37]||(t[37]=e("p",{class:"text-gray-600 mb-6"},"Your donation has been successfully processed.",-1)),e("a",{href:i.route("dashboard"),class:"bg-purple-600 text-white px-6 py-3 rounded-lg hover:bg-purple-700 transition duration-200 font-medium"},"Back to Dashboard",8,_)])):m("",!0)])]),e("footer",ee,[e("div",te,[e("p",null,"© 2025 "+n(s.project.name)+". All rights reserved.",1)])]),t[38]||(t[38]=S('<div class="fixed bottom-0 w-full bg-gray-800 text-white p-4 flex justify-between items-center" data-v-94599fad><div data-v-94599fad><p data-v-94599fad>We use cookies! We use cookies to analyze our website traffic and improve your user experience. For detailed information and individual settings, <a href="#" class="text-purple-300 hover:underline" data-v-94599fad>click here</a></p></div><div class="space-x-4" data-v-94599fad><button class="text-purple-300 hover:underline" data-v-94599fad>Only necessary cookies</button><button class="bg-purple-600 px-4 py-2 rounded-lg hover:bg-purple-700 transition duration-200" data-v-94599fad>Accept all</button></div></div>',1))]))}},ne=q(oe,[["__scopeId","data-v-94599fad"]]);export{ne as default};
